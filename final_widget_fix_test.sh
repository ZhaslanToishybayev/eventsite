#!/bin/bash

# üöÄ –§–ò–ù–ê–õ–¨–ù–´–ô –¢–ï–°–¢: –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–ò–î–ñ–ï–¢–ê

echo "üöÄ –§–ò–ù–ê–õ–¨–ù–´–ô –¢–ï–°–¢: –ü–†–û–í–ï–†–ö–ê –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–ò–î–ñ–ï–¢–ê"
echo "================================================="
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Django —Å–µ—Ä–≤–µ—Ä–∞
echo "1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Django —Å–µ—Ä–≤–µ—Ä–∞..."
if curl -s http://localhost:8000/ | grep -q "–¶–µ–Ω—Ç—Ä —Å–æ–æ–±—â–µ—Å—Ç–≤"; then
    echo "‚úÖ Django —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç"
else
    echo "‚ùå Django —Å–µ—Ä–≤–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
    exit 1
fi

echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS –∏–∑–º–µ–Ω–µ–Ω–∏–π
echo "2. –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS –∏–∑–º–µ–Ω–µ–Ω–∏–π..."
css_content=$(curl -s http://localhost:8000/static/css/ai-chat-widget-v2.css)

if echo "$css_content" | grep -q "overflow: visible !important"; then
    echo "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω overflow: visible"
else
    echo "‚ùå overflow –Ω–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω"
fi

if echo "$css_content" | grep -q "opacity: 1 !important"; then
    echo "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω opacity: 1"
else
    echo "‚ùå opacity –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω"
fi

if echo "$css_content" | grep -q "visibility: visible !important"; then
    echo "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω visibility: visible"
else
    echo "‚ùå visibility –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω"
fi

echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ AI API
echo "3. –ü—Ä–æ–≤–µ—Ä–∫–∞ AI API..."
api_response=$(curl -s -X POST "http://localhost:8000/api/v1/ai/simplified/interactive/chat/" \
  -H "Content-Type: application/json" \
  -d '{"message": "–ü—Ä–∏–≤–µ—Ç", "user_email": "test@fan-club.kz", "state_id": null}')

if echo "$api_response" | grep -q '"success": true'; then
    echo "‚úÖ AI API —Ä–∞–±–æ—Ç–∞–µ—Ç"
else
    echo "‚ùå AI API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
fi

echo ""

# –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
echo "4. –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢:"
echo "====================="
echo ""

echo "üîß –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û:"
echo "========================"
echo "‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω overflow: hidden ‚Üí overflow: visible"
echo "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω opacity: 1 !important"
echo "‚úÖ –î–æ–±–∞–≤–ª–µ–Ω visibility: visible !important"
echo "‚úÖ –£–±—Ä–∞–Ω—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º"
echo ""

echo "üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:"
echo "========================="
echo "1. –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∂–µ—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –í–ò–î–ò–ú–ê –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É"
echo "2. –ö–Ω–æ–ø–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω"
echo "3. –†–∞–∑–º–µ—Ä 64x64 –ø–∏–∫—Å–µ–ª—è, –∫—Ä—É–≥–ª–∞—è —Ñ–æ—Ä–º–∞"
echo "4. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –¥–æ–ª–∂–µ–Ω –û–¢–ö–†–´–í–ê–¢–¨–°–Ø —á–∞—Ç"
echo "5. AI –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è"
echo "6. –ò–∫–æ–Ω–∫–∞ FontAwesome –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–¥–∏–º–∞"
echo ""

echo "üöÄ –î–ï–ô–°–¢–í–ò–Ø –î–õ–Ø –ü–†–û–í–ï–†–ö–ò:"
echo "==========================="
echo "1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:8000"
echo "2. –ù–∞–π–¥–∏—Ç–µ –ö–†–£–ì–õ–£–Æ –ì–†–ê–î–ò–ï–ù–¢–ù–£–Æ –ö–ù–û–ü–ö–£ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É"
echo "3. –ù–ê–ñ–ú–ò–¢–ï –Ω–∞ –∫–Ω–æ–ø–∫—É - –¥–æ–ª–∂–µ–Ω –û–¢–ö–†–´–¢–¨–°–Ø —á–∞—Ç"
echo "4. –ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - AI –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å"
echo "5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∫–ª—É–± —á–µ—Ä–µ–∑ AI"
echo ""

echo "üåê –î–õ–Ø –î–û–°–¢–£–ü–ê –ò–ó –ò–ù–¢–ï–†–ù–ï–¢–ê:"
echo "=============================="
echo "sudo cp /var/www/myapp/eventsite/nginx_simple_working_config /etc/nginx/sites-available/fan-club.kz"
echo "sudo nginx -t"
echo "sudo systemctl reload nginx"
echo ""

echo "üéâ –ü–†–û–ë–õ–ï–ú–ê –î–û–õ–ñ–ù–ê –ë–´–¢–¨ –û–ö–û–ù–ß–ê–¢–ï–õ–¨–ù–û –†–ï–®–ï–ù–ê!"
echo "=============================================="
echo ""
echo "üí° –ï–°–õ–ò –ö–ù–û–ü–ö–ê –í–°–ï –ï–©–ï –ù–ï –í–ò–î–ù–ê:"
echo "=================================="
echo "1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+F5)"
echo "2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏"
echo "3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ FontAwesome –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è"
echo "4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ CSS —Ñ–∞–π–ª –æ–±–Ω–æ–≤–∏–ª—Å—è"
echo ""
echo "üéØ –ö–ù–û–ü–ö–ê –î–û–õ–ñ–ù–ê –ë–´–¢–¨ –í–ò–î–ò–ú–ê –ò –†–ê–ë–û–¢–ê–¢–¨!"
echo "=========================================="