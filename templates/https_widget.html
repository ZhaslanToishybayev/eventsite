{% load static %}

<!-- HTTPS AI Chat Widget -->
<link rel="stylesheet" href="{% static 'css/ai-chat-widget-https.css' %}">

<div id="ai-chat-widget-container">
    <!-- Widget will be inserted here by JavaScript -->
</div>

<script>
// HTTPS Widget Initialization
document.addEventListener('DOMContentLoaded', function() {
    console.log('ü§ñ HTTPS Widget: DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...');

    // Check if site is using HTTPS
    const isHttps = window.location.protocol === 'https:';
    console.log('üîí HTTPS —Ä–µ–∂–∏–º:', isHttps);

    if (isHttps) {
        console.log('‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ–º HTTPS –≤–∏–¥–∂–µ—Ç');

        // Load CSS
        const cssLink = document.createElement('link');
        cssLink.rel = 'stylesheet';
        cssLink.href = '{% static "css/ai-chat-widget-https.css" %}';
        document.head.appendChild(cssLink);

        // Load JavaScript
        const script = document.createElement('script');
        script.src = '{% static "js/ai-chat-widget-https.js" %}';
        script.onload = function() {
            console.log('‚úÖ HTTPS –≤–∏–¥–∂–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é');
        };
        document.head.appendChild(script);
    } else {
        console.log('‚ö†Ô∏è  HTTP —Ä–µ–∂–∏–º, –≤–∏–¥–∂–µ—Ç –Ω–µ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏');
        console.log('üí° –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://fan-club.kz/ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI –≤–∏–¥–∂–µ—Ç–∞');
    }
});

// Global widget reference
window.aiChatWidget = null;