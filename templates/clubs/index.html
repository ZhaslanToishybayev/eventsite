{% extends 'base.html' %}

{% load static %}

{% block styles %}
<link rel="stylesheet" href="{%  static 'css/template_css/linearicons.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/font-awesome.min.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/bootstrap.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/magnific-popup.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/nice-select.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/animate.min.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/owl.carousel.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/jquery-ui.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/main.css' %}">
<link rel="stylesheet" href="{%  static 'css/our_css/style.css' %}">

<!-- AI Chat Widget Styles -->
<link rel="stylesheet" href="{% static 'css/ai-chat-widget-v2.css' %}?v=2.5.4">

<style>
.image-container {
    width: 100%;
    height: 120px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f8f9fa;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
}

.image-container img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: transform 0.3s;
}

.image-container:hover img {
    transform: scale(1.05);
}
</style>
{% endblock %}

{% block content %}
<section class="banner-area relative" id="home">
    <div class="overlay overlay-bg"></div>
    <div class="container">
        <div class="row fullscreen d-flex align-items-center justify-content-between">
            <div class="banner-content col-lg-9 col-md-12 mx-auto text-center">
                <h2 class="text-uppercase text-white">
                    <span class="your-future-txt">–í–´–ë–ò–†–ê–ô –û–ö–†–£–ñ–ï–ù–ò–ï</span>,
                    <br>–ö–û–¢–û–†–û–ï –ü–û–ú–û–ñ–ï–¢ –¢–ï–ë–ï –†–ê–°–¢–ò
                </h2>
                <p class="pt-10 pb-10">
                    "–ú—ã —Å–æ–±—Ä–∞–ª–∏ –¥–ª—è –í–∞—Å –ª—É—á—à–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞!"
                </p>
                <a href="{% url 'clubs' %}" class="primary-btn text-uppercase">–ù–∞–π—Ç–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</a>
            </div>
        </div>
    </div>
</section>
<!-- End banner Area -->

<!-- Start feature Area -->
<section class="feature-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <a href="/clubs/create/">
                    <div class="single-feature">
                        <div class="title">
                            <h4>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h4>
                        </div>
                        <div class="desc-wrap">
                            <p style="min-height: 90px;">
                                –ß–ï–ú –ü–û–õ–ï–ó–ù–ï–ï –ò –ò–ù–¢–ï–†–ï–°–ù–ï–ï –ë–£–î–ï–¢ –í–ê–®–ï –°–û–û–ë–©–ï–°–¢–í–û –¢–ï–ú –ë–û–õ–¨–®–ï –£–ß–ê–°–¢–ù–ò–ö–û–í –í –ù–ï–ú –ë–£–î–ï–¢,
                                –ö–û–¢–û–†–´–ú –í–´ –°–ú–û–ñ–ï–¢–ï –ü–†–û–î–ê–í–ê–¢–¨ –°–í–û–ô –¢–û–í–ê–† –ò–õ–ò –£–°–õ–£–ì–ò
                            </p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4">
                <a href="/clubs/">
                    <div class="single-feature">
                        <div class="title">
                            <h4>–í—Å—Ç—É–ø–∞–π—Ç–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h4>
                        </div>
                        <div class="desc-wrap">
                            <p>–•–û–¢–ò–¢–ï –†–ê–ó–í–õ–ï–ß–ï–ù–ò–ô - –•–û–ë–ë–ò –°–û–û–ë–©–ï–°–¢–í–ê</p>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4">
                <a href="/festivals/">
                    <div class="single-feature">
                        <div class="title">
                            <h4>–§–µ—Å—Ç–∏–≤–∞–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤</h4>
                        </div>
                        <div class="desc-wrap">
                            <p style="min-height: 90px;">
                                –û–†–ì–ê–ù–ò–ó–£–ô–¢–ï –°–í–û–ò –°–û–ë–´–¢–ò–Ø –ß–ï–†–ï–ó –ù–ê–® –°–ê–ô–¢ –ò –ü–†–û–î–í–ò–ì–ê–ô–¢–ï –°–í–û–ï –°–û–û–ë–©–ï–°–¢–í–û
                            </p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>
<!-- End feature Area -->

<!-- Start top-category-widget Area -->
<section class="top-category-widget-area pt-90 ">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="top-category-widget d-flex justify-content-center">
                    <div class="content text-center">
                        <h3 class="text-uppercase text-white">–¶–µ–Ω—Ç—Ä —Å–æ–æ–±—â–µ—Å—Ç–≤</h3>
                        <p class="text-white">fan-club.kz</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End top-category-widget Area -->

{% if top_16_clubs %}
<!-- Start post Area -->
<section class="post-area section-gap">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h3 class="mb-20">–¢–û–ü 16 –ö–õ–£–ë–û–í</h3>
                <div class="row">
                    {% for club in top_16_clubs %}
                    <div class="col-lg-3 col-md-6">
                        <div class="single-post" style="height: 200px;">
                            <div class="figure-img">
                                <a href="{% url 'club_detail' club.pk %}">
                                    <div class="overlay overlay-bg"></div>
                                    <a href="{% url 'club_detail' club.pk %}">
                                        <div class="image-container">
                                            <img class="img-fluid" src="{% if club.logo %}{{ club.logo.url }}{% else %}/media/club/logos/club-icon.png{% endif %}" alt="">
                                        </div>
                                    </a>
                                </a>
                            </div>
                            <div class="details">
                                <a href="{% url 'club_detail' club.pk %}">
                                    <h5 class="text-uppercase">{{ club.name }}</h5>
                                </a>
                                <ul class="meta">
                                    <li><span class="ln ln-pin"></span> {{ club.city.name }}</li>
                                    <li><span class="ln ln-user"></span> {{ club.members_count }} —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End post Area -->
{% endif %}

{% if nearest_16_events %}
<!-- Start upcoming-event Area -->
<section class="upcoming-event-area">
    <div class="container">
        <div class="row justify-content-center">
            <div class="active-upcoming-event-carusel">
                {% for event in nearest_16_events %}
                <div class="single-carusel row align-items-center">
                    <div class="col-12 col-md-6 thumb">
                        <div class="thumb-content">
                            <a href="{% url 'event_detail' event.pk %}">
                                <h4 class="text-uppercase">{{ event.name }}</h4>
                            </a>
                            <span class="text-uppercase">{{ event.start_datetime|date:"d.m.Y H:i" }}</span>
                        </div>
                    </div>
                    <div class="col-12 col-md-6">
                        <div class="event-content">
                            <div class="content">
                                <a href="{% url 'event_detail' event.pk %}">
                                    <h5 class="text-uppercase">{{ event.description|truncatechars:100 }}</h5>
                                </a>
                                <p>{{ event.club.name }}{% if event.club.city %}, {{ event.club.city.name }}{% endif %}</p>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
<!-- End upcoming-event Area -->
{% endif %}

<!-- Start cta Area -->
<section class="cta-area">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="cta-content d-flex justify-content-center align-items-center">
                    <div class="text-center">
                        <h2 class="text-uppercase text-white">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É</h2>
                        <p class="text-white">–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –≤ –º–∏—Ä–µ —Ñ–∞–Ω-–∫–ª—É–±–æ–≤ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤</p>
                        <a href="{% url 'club_create' %}" class="primary-btn text-uppercase">–°–æ–∑–¥–∞—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End cta Area -->

{% endblock %}

{% block scripts %}
<script src="{%  static 'js/template_js/vendor/jquery-2.2.4.min.js' %}"></script>
<script src="{%  static 'js/template_js/vendor/bootstrap.min.js' %}"></script>
{#
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhOdIF3Y9382fqJYt5I_sswSrEw5eihAA"></script>#}
<script src="{%  static 'js/template_js/easing.min.js' %}"></script>
<script src="{%  static 'js/template_js/hoverIntent.js' %}"></script>
<script src="{%  static 'js/template_js/superfish.min.js' %}"></script>
<script src="{%  static 'js/template_js/jquery.ajaxchimp.min.js' %}"></script>
<script src="{%  static 'js/template_js/jquery.magnific-popup.min.js' %}"></script>
<script src="{%  static 'js/template_js/owl.carousel.min.js' %}"></script>
<script src="{%  static 'js/template_js/jquery.sticky.js' %}"></script>
<script src="{%  static 'js/template_js/jquery.nice-select.min.js' %}"></script>
<script src="{%  static 'js/template_js/parallax.min.js' %}"></script>
<script src="{%  static 'js/template_js/mail-script.js' %}"></script>
<script src="{%  static 'js/template_js/main.js' %}"></script>
<script src="{%  static 'js/our_js/index.js' %}"></script>

<!-- AI Chat Widget Script v2.8 - CSP Fixed -->
<script src="{% static 'js/ai-chat-widget-v2.js' %}?v=2.8.1"></script>

<!-- Standalone Widget (No Dependencies) -->
<script src="{% static 'js/ai-chat-widget-standalone.js' %}?v=2.8.0"></script>
{% endblock %}

{% block extra_scripts %}
<script>
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ AI –≤–∏–¥–∂–µ—Ç–∞
document.addEventListener('DOMContentLoaded', function() {
    console.log('–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ AI –≤–∏–¥–∂–µ—Ç–∞...');

    // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä AI –≤–∏–¥–∂–µ—Ç–∞
    if (typeof AIChatWidget !== 'undefined') {
        try {
            const widget = new AIChatWidget({
                apiUrl: '/api/ai/chat/',
                widgetTitle: 'AI –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
                welcomeMessage: 'üëã –ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –¥–ª—è —Ç–µ–±—è. –° —á–µ–≥–æ –Ω–∞—á–Ω–µ–º?',
                placeholder: '–ù–∞–ø–∏—à–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ...'
            });
            console.log('AI –≤–∏–¥–∂–µ—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ AI –≤–∏–¥–∂–µ—Ç–∞:', error);
        }
    } else {
        console.error('AIChatWidget –∫–ª–∞—Å—Å –Ω–µ –Ω–∞–π–¥–µ–Ω');
    }
});
</script>
{% endblock %}

{% block footer %}
    {% include 'partial/footer.html' %}
{% endblock %}