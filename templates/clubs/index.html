{% extends 'base.html' %}

{% load static %}

{% block styles %}
<link rel="stylesheet" href="{%  static 'css/template_css/linearicons.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/font-awesome.min.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/bootstrap.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/magnific-popup.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/nice-select.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/animate.min.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/owl.carousel.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/jquery-ui.css' %}">
<link rel="stylesheet" href="{%  static 'css/template_css/main.css' %}">
<link rel="stylesheet" href="{%  static 'css/our_css/style.css' %}">

<!-- AI Chat Widget Styles -->
<link rel="stylesheet" href="{% static 'css/ai-chat-widget-v2.css' %}?v=2.5.4">
{% endblock %}

{% block header %}
{% include 'partial/header.html' %}
{% endblock %}

{% block content %}
<section class="banner-area relative" id="home">
    <div class="overlay overlay-bg"></div>
    <div class="container">
        <div class="row fullscreen d-flex align-items-center justify-content-between">
            <div class="banner-content col-lg-9 col-md-12 mx-auto text-center">
                <h2 class="text-uppercase text-white">
                    <span class="your-future-txt">–í–´–ë–ò–†–ê–ô –û–ö–†–£–ñ–ï–ù–ò–ï</span>,
                    <br>–ö–û–¢–û–†–û–ï –ü–û–ú–û–ñ–ï–¢ –¢–ï–ë–ï –†–ê–°–¢–ò
                </h2>
                <p class="pt-10 pb-10">
                    "–ú—ã —Å–æ–±—Ä–∞–ª–∏ –¥–ª—è –í–∞—Å –ª—É—á—à–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞!"
                </p>
                <a href="{% url 'clubs' %}" class="primary-btn text-uppercase">–ù–∞–π—Ç–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</a>
            </div>
        </div>
    </div>
</section>
<!-- End banner Area -->

<!-- Start feature Area -->
<section class="feature-area">
    <div class="container">
        <div class="row">
            {# <div class="col-lg-3">#}
                {# <div class="single-feature">#}
                    {# <div class="title">#}
                        {# <h4>–ó–ê–Ø–í–ò–¢–¨ –û –°–í–û–Å–ú –ü–†–û–ï–ö–¢–ï (–°–¢–ê–†–¢–ê–ü–ï / –ë–ò–ó–ù–ï–° –ò–î–ï–ï)</h4>#}
                        {# </div>#}
                    {# <div class="desc-wrap">#}
                        {# <p style="min-height: 90px;">#}
                            {# –†–ê–°–°–ö–ê–ñ–ò–¢–ï –û –°–í–û–Å–ú –ü–†–û–ï–ö–¢–ï –ß–¢–û–ë–´ –°–û–ë–†–ê–¢–¨ –ö–û–ú–ê–ù–î–£ –ò–õ–ò –ü–†–ò–í–õ–ï–ß–¨ –ë–ò–ó–ù–ï–° –ü–ê–†–¢–ù–ï–†–û–í#}
                            {# </p>#}
                        {# <a href="#">–ó–∞—è–≤–∏—Ç—å —Å–µ–π—á–∞—Å</a>#}
                        {# </div>#}
                    {# </div>#}
                {# </div>#}
            <div class="col-lg-4">
                <a href="{% url 'club_create' %}">
                    <div class="single-feature">
                        <div class="title">
                            <h4>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h4>
                        </div>
                        <div class="desc-wrap">
                            <p style="min-height: 90px;">
                                –ß–ï–ú –ü–û–õ–ï–ó–ù–ï–ï –ò –ò–ù–¢–ï–†–ï–°–ù–ï–ï –ë–£–î–ï–¢ –í–ê–®–ï –°–û–û–ë–©–ï–°–¢–í–û –¢–ï–ú –ë–û–õ–¨–®–ï –£–ß–ê–°–¢–ù–ò–ö–û–í –í –ù–ï–ú –ë–£–î–ï–¢,
                                –ö–û–¢–û–†–´–ú –í–´ –°–ú–û–ñ–ï–¢–ï –ü–†–û–î–ê–í–ê–¢–¨ –°–í–û–ô –¢–û–í–ê–† –ò–õ–ò –£–°–õ–£–ì–ò
                            </p>
                            <a class="link" href="{% url 'club_create' %}">–°–æ–∑–¥–∞—Ç—å —Å–µ–π—á–∞—Å</a>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4">
                <a href="{% url 'clubs' %}">
                    <div class="single-feature">
                        <div class="title">
                            <h4>–í—Å—Ç—É–ø–∞–π—Ç–µ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h4>
                        </div>
                        <div class="desc-wrap">
                            <p>–•–û–¢–ò–¢–ï –†–ê–ó–í–õ–ï–ß–ï–ù–ò–ô - –•–û–ë–ë–ò –°–û–û–ë–©–ï–°–¢–í–ê</p>
                            <p>–•–û–¢–ò–¢–ï –ó–ê–ù–ò–ú–ê–¢–¨–°–Ø –°–ü–û–†–¢–û–ú - –°–ü–û–†–¢ –°–û–û–ë–©–ï–°–¢–í–ê</p>
                            <p>–•–û–¢–ò–¢–ï –†–ê–ó–í–ò–í–ê–¢–¨–°–Ø –ö–ê–ö –°–ü–ï–¶–ò–ê–õ–ò–°–¢ - –ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ï –°–û–û–ë–©–ï–°–¢–í–ê</p>
                            <a class="link" href="{% url 'clubs' %}">–°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤</a>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-lg-4">
                <a href="{% url 'festivals' %}">
                    <div class="single-feature">
                        <div class="title">
                            <h4>–§–µ—Å—Ç–∏–≤–∞–ª–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤</h4>
                        </div>
                        <div class="desc-wrap">
                            <p style="min-height: 90px;">
                                –ó–î–ï–°–¨ –í–´ –ú–û–ñ–ï–¢–ï –ü–û–ó–ù–ê–ö–û–ú–ò–¢–¨–°–Ø –° –°–û–û–ë–©–ï–°–¢–í–ê–ú–ò –í –ñ–ò–í–£–Æ, –ü–û–î–ê–¢–¨ –ó–ê–Ø–í–ö–£ –ù–ê –£–ß–ê–°–¢–ò–ï –ò–õ–ò
                                –ü–û–°–ú–û–¢–†–ï–¢–¨ –°–ü–ò–°–û–ö –£–ß–ê–°–¢–í–£–Æ–©–ò–•
                            </p>
                            <a class="link" href="{% url 'festivals' %}">–ë–ª–∏–∂–∞–π—à–∏–µ —Ñ–µ—Å—Ç–∏–≤–∞–ª–∏</a>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- End feature Area -->
<section class="top-category-widget-area pt-90 pb-90 ">
    <div class="container y-border-eee">
        <div class="row d-flex justify-content-center">
            <div class="menu-content pb-70 col-lg-8">
                <div class="title text-center">
                    <h1 class="mb-10">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤</h1>
                    <!-- <p>
                            –ú—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä —É—Å–ª—É–≥ –ø–æ–¥–¥–µ—Ä–∂–∫–∏,
                            —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Å–æ–¥–µ–π—Å—Ç–≤–∏—è —Ä–∞–∑–≤–∏—Ç–∏—é –∏
                            –ø—Ä–æ—Ü–≤–µ—Ç–∞–Ω–∏—é –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞. –ù–∞—à–∞ –º–∏—Å—Å–∏—è —Å–æ—Å—Ç–æ–∏—Ç –≤ —Ç–æ–º,
                            —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å –≤–∞—à–∏–º –Ω–∞–¥—ë–∂–Ω—ã–º –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º –≤ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–∏ —Å–æ–∑–¥–∞—Ç—å
                            —Å–∏–ª—å–Ω–æ–µ, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–µ–µ –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ.
                        </p> -->
                </div>
            </div>
        </div>
        <div class="row">
            <div class="active-popular-carusel-services">
                {% for service in services %}
                <div class="single-cat-widget">
                    <div class="content relative">
                        <a href="{% url 'service_for_club_detail' service.pk %}">
                            <div class="overlay overlay-bg"></div>
                            <div class="thumb">
                                <img class="content-image img-fluid d-block mx-auto" src="{{ service.image.url }}"
                                    alt="" style="height: 250px;">
                            </div>
                            <div class="content-details">
                                <h4 class="content-title mx-auto text-wrap text-uppercase w-75">{{ service.name }}</h4>
                                <span></span>
                                <p class="w-75 mx-auto text-wrap">{{ service.description|slice:":100" }}...</p>
                            </div>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
            {# {% for service in services %}#}
            {# <div class="col-lg-4">#}
                {# <div class="single-cat-widget">#}
                    {# <div class="content relative">#}
                        {# <a href="{% url 'service_for_club_detail' service.pk %}">#}
                            {# <div class="overlay overlay-bg"></div>#}
                            {# <div class="thumb">#}
                                {# <img class="content-image img-fluid d-block mx-auto" src="{{ service.image.url }}"
                                    alt="" style="height: 250px;">#}
                                {# </div>#}
                            {# <div class="content-details">#}
                                {# <h4 class="content-title mx-auto text-wrap text-uppercase w-75">{{ service.name }}
                                </h4>#}
                                {# <span></span>#}
                                {# <p class="w-75 mx-auto text-wrap">{{ service.description|slice:":100" }}...</p>#}
                                {# </div>#}
                            {# </a>#}
                        {# </div>#}
                    {# </div>#}
                {# </div>#}
            {# {% endfor %}#}
        </div>
        <a href="{% url 'service_for_club_list' %}" class="d-block mx-auto text-center mt-3">–í—Å–µ —É—Å–ª—É–≥–∏ –¥–ª—è
            —Å–æ–æ–±—â–µ—Å—Ç–≤</a>
    </div>
</section>
<!-- Start cta-one Area -->
<section class="cta-one-area relative section-gap">
    <div class="container">
        <a class="text-decoration-none text-white" href="{% url 'user_list' %}">
            <div class="overlay overlay-bg" style="background-color: rgba(4, 9, 30, 0.8);"></div>
            <div class="row justify-content-center">
                <div class="wrap">
                    <h1 class="text-white">–ï–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –≤ –æ–¥–∏–Ω –∫–ª–∏–∫: –≤–∞—à –ø—É—Ç—å –∫ –Ω–æ–≤—ã–º —Å–≤—è–∑—è–º.</h1>
                    <p class="mx-auto py-3">
                        –ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É,
                        –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —Ç–µ—Ö, –∫—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –≤–∞—à–∏
                        –≤–∑–≥–ª—è–¥—ã –∏ —É–≤–ª–µ—á–µ–Ω–∏—è, —Å –ª–µ–≥–∫–æ—Å—Ç—å—é –∏ –∫–æ–º—Ñ–æ—Ä—Ç–æ–º.
                        –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã –¥—Ä—É–∂–±—ã –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞
                        —Å –Ω–∞—à–∏–º –±—ã—Å—Ç—Ä—ã–º –∏ –ø—Ä–æ—Å—Ç—ã–º –ø–æ–∏—Å–∫–æ–º –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤.
                    </p>
                    <a class="primary-btn text-uppercase" href="{% url 'user_list' %}">–ù–∞–π—Ç–∏ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–∞</a>
                </div>
            </div>
        </a>
    </div>
</section>
<!-- End cta-one Area -->
<!-- Start popular-course Area -->
{% if top_16_clubs %}
<section class="popular-course-area section-gap clubs">
    <div class="container y-border-eee">
        <div class="row d-flex justify-content-center">
            <div class="menu-content pb-70 col-lg-8">
                <div class="title text-center">
                    <h1 class="mb-10">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –Ω–∞—à–µ–≥–æ —Å–∞–π—Ç–∞</h1>
                    <p>
                        –í—Å—Ç—É–ø–∞—è –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, –≤—ã –æ–±—Ä–µ—Ç–µ—Ç–µ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤, –¥—Ä—É–∑–µ–π –∏ –¥–∞–∂–µ —Å–ø—É—Ç–Ω–∏–∫–∞ –∂–∏–∑–Ω–∏.
                        –ù–∞–±–µ—Ä–µ—Ç–µ—Å—å –æ–ø—ã—Ç–∞ –∏ –∑–Ω–∞–Ω–∏–π –≤ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–µ–π –≤–∞—Å —Ç–µ–º–µ. –ü–æ–ª—É—á–∏—Ç–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–∫–∏–¥–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ
                        –µ—Å—Ç—å —É —Å–æ–æ–±—â–µ—Å—Ç–≤
                    </p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="active-popular-carusel">
                {% for club in top_16_clubs %}
                <div class="single-popular-carusel club-item">
                    <div class="thumb-wrap relative">
                        <div class="thumb relative">
                            <div class="overlay overlay-bg"></div>
                            <a href="{{ club.get_absolute_url }}">
                                <div class="image-container">
                                    <img class="img-fluid" src="{{ club.logo.url}}" alt="">
                                </div>
                            </a>
                        </div>
                        <div class="custom-meta d-flex justify-content-between py-2">
                            <div class="mx-auto">
                                <span class="club_members">
                                    <i class="fa-solid fa-users"></i> {{ club.members_count }}
                                </span>
                                <span class="club_likes">
                                    <i class="fa-solid fa-heart"></i> {{ club.likes_count }}
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="details">
                        <a href="{{ club.get_absolute_url }}">
                            <h4 class="text-center">
                                {{ club.name }}
                            </h4>
                        </a>

                    </div>
                    <a href="{% url 'club_detail' club.pk %}"
                        class="d-block primary-btn w-100 my-4 action-btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                </div>
                {% endfor %}
            </div>
        </div>
        <a href="{% url 'clubs' %}" class="d-block text-center">–í–°–ï –°–û–û–ë–©–ï–°–¢–í–ê</a>
    </div>
</section>
{% endif %}
<!-- End popular-course Area -->
<!-- Start upcoming-event Area -->
{% if nearest_16_events %}
<section class="popular-course-area section-gap events">
    <div class="container y-border-eee">
        <div class="row d-flex justify-content-center">
            <div class="menu-content pb-70 col-lg-8">
                <div class="title text-center">
                    <h1 class="mb-10">–ë–õ–ò–ñ–ê–ô–®–ò–ï –°–û–ë–´–¢–ò–Ø</h1>
                    <p>
                        –í–ø–µ—Ä–µ–¥–∏ –º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ: –û—Ç–∫—Ä–æ–π—Ç–µ –º–∏—Ä –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π —Å
                        –Ω–∞—à–∏–º —Å–ø–∏—Å–∫–æ–º –±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ–±—ã—Ç–∏–π!
                    </p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="active-popular-carusel">
                {% for event in nearest_16_events %}
                <div class="single-popular-carusel">
                    <div class="thumb-wrap relative">
                        <div class="thumb relative">
                            <div class="overlay overlay-bg"></div>
                            <a href="{{ event.get_absolute_url }}">
                                <div class="image-container">
                                    {% if event.banner %}
                                    <img class="img-fluid" src="{{ event.banner.url }}" alt="">
                                    {% else %}
                                    <img class="img-fluid" src="{% static 'images/event-details-img.jpg' %}" alt="{{ event.title }}">
                                    {% endif %}
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="details">
                        <a href="{{ event.get_absolute_url }}" class="mb-1">
                            <h4 style="height: 50px;">{{ event.title }}</h4>
                        </a>
                        <div class="event-details mb-2">
                            <div class="event-key-value">
                                <span class="event-key">–û—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä:</span>
                                <a href="{{ event.club.get_absolute_url }}" class="event d-inline-block">{{
                                    event.club.name }}</a>
                            </div>
                            <div class="event-key-value">
                                <span class="event-key">–ù–∞—á–∞–ª–æ:</span>
                                <span class="event-value">{{ event.start_datetime }}</span>
                            </div>
                        </div>
                        <p class="event-description">{{ event.description }}</p>
                    </div>
                    <a href="{% url 'event_detail' event.pk %}"
                        class="d-block primary-btn w-100 my-4 action-btn">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</a>
                </div>
                {% endfor %}
            </div>
        </div>
        <a href="{% url 'club_events' %}" class="d-block text-center">–í–°–ï –°–û–ë–´–¢–ò–Ø</a>
    </div>
</section>
{% endif %}
<!-- End upcoming-event Area -->
{% endblock %}

{% block footer %}
{% include 'partial/footer.html' %}
{% endblock %}

{% block scripts %}
<script src="{%  static 'js/template_js/vendor/jquery-2.2.4.min.js' %}"></script>
<script src="{%  static 'js/template_js/vendor/bootstrap.min.js' %}"></script>
{#
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhOdIF3Y9382fqJYt5I_sswSrEw5eihAA"></script>#}
<script src="{%  static 'js/template_js/easing.min.js' %}"></script>
<script src="{%  static 'js/template_js/hoverIntent.js' %}"></script>
<script src="{%  static 'js/template_js/superfish.min.js' %}"></script>
<script src="{%  static 'js/template_js/jquery.ajaxchimp.min.js' %}"></script>
<script src="{%  static 'js/template_js/jquery.magnific-popup.min.js' %}"></script>
<script src="{%  static 'js/template_js/jquery.tabs.min.js' %}"></script>
<script src="{%  static 'js/template_js/jquery.nice-select.min.js' %}"></script>
<script src="{%  static 'js/template_js/owl.carousel.min.js' %}"></script>
<script src="{%  static 'js/template_js/mail-script.js' %}"></script>
<script src="{%  static 'js/template_js/main.js' %}"></script>
<script src="{%  static 'js/our_js/index.js' %}"></script>

<!-- AI Chat Widget Script v2.8 - CSP Fixed + Standalone Fallback -->
<script src="{% static 'js/ai-chat-widget-v2.js' %}?v=2.8.1"></script>

<!-- Standalone Widget (No Dependencies) -->
<script src="{% static 'js/ai-chat-widget-standalone.js' %}?v=2.8.0"></script>

<!-- Debug Script -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        console.log('=== DEBUG AI WIDGET ===');

        // –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ, —á—Ç–æ–±—ã JS —Ñ–∞–π–ª —É—Å–ø–µ–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è
        setTimeout(() => {
            console.log('=== –ü–†–û–í–ï–†–ö–ê –ó–ê–ì–†–£–ó–ö–ò –°–ö–†–ò–ü–¢–û–í ===');
            console.log('1. AIChatWidget –∫–ª–∞—Å—Å:', typeof AIChatWidget);
            console.log('2. initAIChatWidgetV2 —Ñ—É–Ω–∫—Ü–∏—è:', typeof initAIChatWidgetV2);
            console.log('3. window.aiChatWidgetV2:', window.aiChatWidgetV2);
            console.log('4. window.aiChat:', window.aiChat);

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —ç–ª–µ–º–µ–Ω—Ç –≤–∏–¥–∂–µ—Ç–∞
            console.log('5. –≠–ª–µ–º–µ–Ω—Ç –≤–∏–¥–∂–µ—Ç–∞ –ø–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', document.getElementById('ai-chat-widget'));
            console.log('6. –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∂–µ—Ç–∞:', document.getElementById('chatToggleBtn'));

            // –ê–ì–†–ï–°–°–ò–í–ù–û–ï –°–û–ó–î–ê–ù–ò–ï –í–ò–î–ñ–ï–¢–ê
            console.log('7. –ù–∞—á–∏–Ω–∞–µ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞...');

            // –ü–æ–ø—Ä–æ–±—É–µ–º —Å–Ω–∞—á–∞–ª–∞ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é
            if (typeof initAIChatWidgetV2 === 'function') {
                console.log('7a. –ò—Å–ø–æ–ª—å–∑—É–µ–º initAIChatWidgetV2...');
                try {
                    const widget = initAIChatWidgetV2();
                    console.log('8a. –í–∏–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ initAIChatWidgetV2:', widget);

                    setTimeout(() => {
                        checkWidgetAfterCreation('initAIChatWidgetV2');
                    }, 1000);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞ —á–µ—Ä–µ–∑ initAIChatWidgetV2:', error);
                    createWidgetManually();
                }
            } else if (typeof AIChatWidget === 'function' && window.aiChatWidgetV2) {
                console.log('7b. –ò—Å–ø–æ–ª—å–∑—É–µ–º aiChatWidgetV2.createWidget...');
                try {
                    const widget = window.aiChatWidgetV2.createWidget();
                    console.log('8b. –í–∏–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω —á–µ—Ä–µ–∑ aiChatWidgetV2.createWidget:', widget);

                    setTimeout(() => {
                        checkWidgetAfterCreation('aiChatWidgetV2.createWidget');
                    }, 1000);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞ —á–µ—Ä–µ–∑ aiChatWidgetV2.createWidget:', error);
                    createWidgetManually();
                }
            } else if (typeof AIChatWidget === 'function') {
                console.log('7c. –°–æ–∑–¥–∞–µ–º –≤–∏–¥–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ AIChatWidget...');
                try {
                    const widget = new AIChatWidget();
                    console.log('8c. –í–∏–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–∞–ø—Ä—è–º—É—é:', widget);

                    setTimeout(() => {
                        checkWidgetAfterCreation('new AIChatWidget');
                    }, 1000);
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∏–¥–∂–µ—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é:', error);
                    createWidgetManually();
                }
            } else {
                console.error('7d. –ù–ò –û–î–ù–û–ô –§–£–ù–ö–¶–ò–ò –ù–ï –ù–ê–ô–î–ï–ù–û! –ü—Ä–æ–±—É–µ–º —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ...');
                createWidgetManually();
            }

            function checkWidgetAfterCreation(method) {
                console.log(`9. –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∏–¥–∂–µ—Ç –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ ${method}:`);
                console.log('  - –≠–ª–µ–º–µ–Ω—Ç –≤–∏–¥–∂–µ—Ç–∞:', document.getElementById('ai-chat-widget'));
                console.log('  - –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∂–µ—Ç–∞:', document.getElementById('chatToggleBtn'));
                console.log('  - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–∞—Ç–∞:', document.getElementById('chatContainer'));

                const button = document.getElementById('chatToggleBtn');
                if (button) {
                    console.log('10. –ö–Ω–æ–ø–∫–∞ –Ω–∞–π–¥–µ–Ω–∞! –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏...');
                    const styles = window.getComputedStyle(button);
                    console.log('   - –¢–µ–∫—É—â–∏–µ —Å—Ç–∏–ª–∏:', {
                        display: styles.display,
                        visibility: styles.visibility,
                        opacity: styles.opacity
                    });

                    // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–Ω–æ–ø–∫–∏
                    button.style.cssText = `
                        display: flex !important;
                        visibility: visible !important;
                        opacity: 1 !important;
                        position: fixed !important;
                        bottom: 30px !important;
                        right: 30px !important;
                        width: 64px !important;
                        height: 64px !important;
                        z-index: 9999 !important;
                    `;
                    console.log('10. –°—Ç–∏–ª–∏ –∫–Ω–æ–ø–∫–∏ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã!');

                    // –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –µ—Å–ª–∏ –≤–∏–¥–∂–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
                    if (window.aiChat && window.aiChat.toggleChat) {
                        button.onclick = (e) => {
                            e.preventDefault();
                            e.stopPropagation();
                            console.log('üéØ –ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞! –í—ã–∑—ã–≤–∞–µ–º toggleChat...');
                            window.aiChat.toggleChat();
                        };
                        console.log('11. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–Ω–æ–ø–∫–µ!');
                    } else {
                        console.warn('11. –í–∏–¥–∂–µ—Ç –∏–ª–∏ –º–µ—Ç–æ–¥ toggleChat –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞–µ–º –∑–∞–≥–ª—É—à–∫—É...');
                        button.onclick = () => {
                            console.log('üéØ –ö–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞, –Ω–æ –≤–∏–¥–∂–µ—Ç –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω!');
                        };
                    }
                } else {
                    console.error('10. –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∂–µ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è!');
                }
            }

            function createWidgetManually() {
                console.log('üîß –ù–∞—á–∏–Ω–∞–µ–º —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞...');

                // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–±—É–µ–º standalone –≤–∏–¥–∂–µ—Ç (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
                if (typeof initAIChatWidgetStandalone === 'function') {
                    console.log('üîß –ü—Ä–æ–±—É–µ–º standalone –≤–∏–¥–∂–µ—Ç...');
                    try {
                        const widget = initAIChatWidgetStandalone();
                        console.log('‚úÖ Standalone –≤–∏–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω:', widget);

                        setTimeout(() => {
                            // –ü—Ä–æ–≤–µ—Ä—è–µ–º standalone —ç–ª–µ–º–µ–Ω—Ç—ã
                            const standaloneWidget = document.getElementById('ai-chat-widget-standalone');
                            const standaloneButton = document.getElementById('chatToggleBtnStandalone');

                            console.log('üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º standalone –≤–∏–¥–∂–µ—Ç:');
                            console.log('  - Standalone —ç–ª–µ–º–µ–Ω—Ç:', standaloneWidget);
                            console.log('  - Standalone –∫–Ω–æ–ø–∫–∞:', standaloneButton);

                            if (standaloneButton) {
                                console.log('‚úÖ Standalone –≤–∏–¥–∂–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!');
                                standaloneButton.style.display = 'block';
                                standaloneButton.style.visibility = 'visible';
                            }
                        }, 1000);
                        return;
                    } catch (error) {
                        console.error('‚ùå Standalone –≤–∏–¥–∂–µ—Ç —Ç–æ–∂–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª:', error);
                    }
                }

                try {
                    // –°–æ–∑–¥–∞–µ–º –≤–∏–¥–∂–µ—Ç —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
                    const widget = new AIChatWidget();
                    console.log('üîß –í–∏–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω –≤—Ä—É—á–Ω—É—é:', widget);

                    setTimeout(() => {
                        checkWidgetAfterCreation('—Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ');
                    }, 1500);
                } catch (error) {
                    console.error('‚ùå –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ —Ç–æ–∂–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ:', error);

                    // –ü–æ—Å–ª–µ–¥–Ω—è—è –ø–æ–ø—ã—Ç–∫–∞ - —Å–æ–∑–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∏–¥–∂–µ—Ç
                    console.log('üö® –°–æ–∑–¥–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∏–¥–∂–µ—Ç...');
                    const minimalWidget = document.createElement('div');
                    minimalWidget.id = 'ai-chat-widget';
                    minimalWidget.className = 'ai-chat-widget light-theme';
                    minimalWidget.style.cssText = `
                        position: fixed !important;
                        bottom: 30px !important;
                        right: 30px !important;
                        z-index: 9999 !important;
                    `;

                    const minimalButton = document.createElement('button');
                    minimalButton.id = 'chatToggleBtn';
                    minimalButton.className = 'ai-chat-button';
                    minimalButton.innerHTML = '<span class="ai-btn-icon">‚ú®</span>';
                    minimalButton.onclick = () => {
                        console.log('üéØ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞! –í–∏–¥–∂–µ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç!');
                        alert('AI –≤–∏–¥–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –ß–∞—Ç-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.');
                    };

                    minimalButton.style.cssText = `
                        display: flex !important;
                        visibility: visible !important;
                        opacity: 1 !important;
                        width: 64px !important;
                        height: 64px !important;
                        background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%) !important;
                        border-radius: 50% !important;
                        border: none !important;
                        color: white !important;
                        font-size: 28px !important;
                        cursor: pointer !important;
                        box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4) !important;
                        align-items: center !important;
                        justify-content: center !important;
                    `;

                    minimalWidget.appendChild(minimalButton);
                    document.body.appendChild(minimalWidget);
                    console.log('‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–∏–¥–∂–µ—Ç —Å–æ–∑–¥–∞–Ω!');
                }
            }
        }, 2000); // –£–≤–µ–ª–∏—á–∏–º –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
    });
</script>
{% endblock %}