<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI –≤–∏–¥–∂–µ—Ç–∞</title>
    <link rel="stylesheet" href="/static/css/ai-chat-widget.css">
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .test-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .test-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #007bff;
        }
        .test-case {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 1px solid #dee2e6;
        }
        .test-result {
            padding: 8px 15px;
            border-radius: 5px;
            margin-top: 10px;
            font-weight: bold;
        }
        .pass { background: #d4edda; color: #155724; }
        .fail { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }

        h1 { color: #2c3e50; text-align: center; }
        h2 { color: #495057; border-bottom: 2px solid #007bff; padding-bottom: 10px; }
        h3 { color: #6c757d; }

        .device-frame {
            border: 3px solid #333;
            border-radius: 20px;
            padding: 10px;
            margin: 20px 0;
            background: white;
            display: inline-block;
        }
        .mobile-frame { width: 375px; height: 667px; }
        .tablet-frame { width: 768px; height: 1024px; }
        .desktop-frame { width: 1200px; height: 800px; }

        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            z-index: 10000;
        }
        .btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn:hover { background: #0056b3; }

        .report {
            background: #f8f9fa;
            border: 2px solid #007bff;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }

        .bug-item {
            background: #fff;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .severity-critical { border-left-color: #dc3545; }
        .severity-high { border-left-color: #fd7e14; }
        .severity-medium { border-left-color: #ffc107; }
        .severity-low { border-left-color: #28a745; }

        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .metric-value {
            font-size: 2em;
            font-weight: bold;
            color: #007bff;
        }
        .metric-label {
            color: #6c757d;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞–º–∏ -->
    <div class="controls">
        <h4>üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏</h4>
        <button class="btn" onclick="startFullTestSuite()">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã</button>
        <button class="btn" onclick="testFunctionality()">‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</button>
        <button class="btn" onclick="testResponsive()">üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å</button>
        <button class="btn" onclick="testPerformance()">‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</button>
        <button class="btn" onclick="generateReport()">üìä –û—Ç—á–µ—Ç</button>
    </div>

    <div class="test-container">
        <h1>üß™ –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI –≤–∏–¥–∂–µ—Ç–∞ UnitySphere</h1>
        <p style="text-align: center; color: #6c757d;">–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ UX/UI –¥–∏–∑–∞–π–Ω–∞ –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</p>
    </div>

    <!-- –†–∞–∑–¥–µ–ª —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="test-container">
        <h2>‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

        <div class="test-section">
            <h3>üöÄ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</h3>
            <div id="basic-functionality-tests">
                <div class="test-case">
                    <h4>1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–∞</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–∂–µ—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
                    <div id="test-init" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>2. –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–∂–µ—Ç–∞</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è</p>
                    <div id="test-toggle" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>3. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π</p>
                    <div id="test-messages" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>4. –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã</h4>
                    <p>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞</p>
                    <div id="test-quick-actions" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>üíæ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</h3>
            <div id="state-tests">
                <div class="test-case">
                    <h4>1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ localStorage –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏</p>
                    <div id="test-session-save" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</p>
                    <div id="test-session-restore" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–∞–º–∏</h4>
                    <p>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π</p>
                    <div id="test-themes" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –†–∞–∑–¥–µ–ª UX/UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="test-container">
        <h2>üé® UX/UI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

        <div class="test-section">
            <h3>üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω</h3>
            <div id="responsive-tests">
                <div class="test-case">
                    <h4>1. –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (320px - 768px)</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</p>
                    <div class="device-frame mobile-frame">
                        <div style="height: 100%; position: relative;">
                            <p style="text-align: center; padding: 20px;">–ú–æ–±–∏–ª—å–Ω—ã–π –≤–∏–¥</p>
                        </div>
                    </div>
                    <div id="test-mobile" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>2. –ü–ª–∞–Ω—à–µ—Ç—ã (768px - 1024px)</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö</p>
                    <div id="test-tablet" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>3. –î–µ—Å–∫—Ç–æ–ø (>1024px)</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –±–æ–ª—å—à–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö</p>
                    <div id="test-desktop" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>üéØ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç</h3>
            <div id="ux-tests">
                <div class="test-case">
                    <h4>1. –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ —É–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h4>
                    <p>–û—Ü–µ–Ω–∫–∞ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</p>
                    <div id="test-navigation" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>2. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (Accessibility)</h4>
                    <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ ARIA –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</p>
                    <div id="test-accessibility" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>3. –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è</h4>
                    <p>–û—Ü–µ–Ω–∫–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏</p>
                    <div id="test-visual-hierarchy" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –†–∞–∑–¥–µ–ª —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ -->
    <div class="test-container">
        <h2>‚ö° –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>

        <div class="test-section">
            <h3>üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h3>
            <div class="metrics">
                <div class="metric-card">
                    <div class="metric-value" id="init-time">0ms</div>
                    <div class="metric-label">–í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="api-response-time">0ms</div>
                    <div class="metric-label">–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="memory-usage">0MB</div>
                    <div class="metric-label">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="bundle-size">0KB</div>
                    <div class="metric-label">–†–∞–∑–º–µ—Ä –≤–∏–¥–∂–µ—Ç–∞</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3>üêõ –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
            <div id="performance-tests">
                <div class="test-case">
                    <h4>1. –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π</h4>
                    <p>–¢–µ—Å—Ç —Å 50+ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ —á–∞—Ç–µ</p>
                    <div id="test-many-messages" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>2. –î–ª–∏–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</h4>
                    <p>–¢–µ—Å—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ >1000 —Å–∏–º–≤–æ–ª–æ–≤</p>
                    <div id="test-long-messages" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>

                <div class="test-case">
                    <h4>3. –ë—ã—Å—Ç—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞</h4>
                    <p>–¢–µ—Å—Ç –±—ã—Å—Ç—Ä–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π</p>
                    <div id="test-rapid-sending" class="test-result">–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –û—Ç—á–µ—Ç –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö -->
    <div class="test-container">
        <h2>üêõ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è</h2>
        <div id="bugs-report">
            <div class="bug-item severity-critical">
                <h4>üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è: [–ü—Ä–æ–±–ª–µ–º–∞ –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞]</h4>
                <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> [–ë—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ]</p>
                <p><strong>–®–∞–≥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:</strong> [–ë—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ]</p>
                <p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> [–ë—É–¥–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–æ]</p>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ -->
    <script src="/static/js/ai-chat-widget-v2.js?v=2.3.3"></script>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        let testResults = {
            functional: { passed: 0, failed: 0, warnings: 0 },
            ui: { passed: 0, failed: 0, warnings: 0 },
            performance: { passed: 0, failed: 0, warnings: 0 }
        };

        let bugs = [];
        let performanceMetrics = {};

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
        function updateTestResult(testId, status, message = '') {
            const element = document.getElementById(testId);
            if (!element) return;

            element.className = `test-result ${status}`;
            element.innerHTML = message || getStatusText(status);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤
            if (status === 'pass') {
                testResults.functional.passed++;
            } else if (status === 'fail') {
                testResults.functional.failed++;
            } else if (status === 'warning') {
                testResults.functional.warnings++;
            }
        }

        function getStatusText(status) {
            const statusTexts = {
                'pass': '‚úÖ –ü—Ä–æ–π–¥–µ–Ω',
                'fail': '‚ùå –ü—Ä–æ–≤–∞–ª–µ–Ω',
                'warning': '‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ',
                'running': 'üîÑ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...'
            };
            return statusTexts[status] || '–û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞...';
        }

        // –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        async function startFullTestSuite() {
            console.log('üöÄ –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤...');

            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            resetTestResults();

            // –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
            await testFunctionality();
            await testResponsive();
            await testPerformance();

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
            generateReport();
        }

        async function testFunctionality() {
            console.log('‚öôÔ∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏...');

            // –¢–µ—Å—Ç 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            updateTestResult('test-init', 'running');
            await testWidgetInitialization();

            // –¢–µ—Å—Ç 2: –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ
            updateTestResult('test-toggle', 'running');
            await testToggleFunctionality();

            // –¢–µ—Å—Ç 3: –°–æ–æ–±—â–µ–Ω–∏—è
            updateTestResult('test-messages', 'running');
            await testMessaging();

            // –¢–µ—Å—Ç 4: –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã
            updateTestResult('test-quick-actions', 'running');
            await testQuickActions();
        }

        async function testResponsive() {
            console.log('üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏...');

            // –¢–µ—Å—Ç –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
            updateTestResult('test-mobile', 'running');
            await testMobileView();

            // –¢–µ—Å—Ç –ø–ª–∞–Ω—à–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏
            updateTestResult('test-tablet', 'running');
            await testTableView();

            // –¢–µ—Å—Ç –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏
            updateTestResult('test-desktop', 'running');
            await testDesktopView();
        }

        async function testPerformance() {
            console.log('‚ö° –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏...');

            // –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            updateTestResult('test-init-time', 'running');
            await measureInitializationTime();

            // –¢–µ—Å—Ç –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
            updateTestResult('test-many-messages', 'running');
            await testWithManyMessages();

            // –¢–µ—Å—Ç –¥–ª–∏–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
            updateTestResult('test-long-messages', 'running');
            await testLongMessages();
        }

        // –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Å—Ç—ã
        async function testWidgetInitialization() {
            try {
                await new Promise(resolve => setTimeout(resolve, 1000)); // –û–∂–∏–¥–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

                const widget = document.getElementById('ai-chat-widget-v2');
                const toggleBtn = document.getElementById('chatToggleBtn');
                const container = document.getElementById('chatContainer');

                if (widget && toggleBtn && container) {
                    updateTestResult('test-init', 'pass', '‚úÖ –í–∏–¥–∂–µ—Ç —É—Å–ø–µ—à–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');

                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
                    if (toggleBtn.style.display !== 'none') {
                        updateTestResult('test-init', 'pass', '‚úÖ –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
                    }
                } else {
                    updateTestResult('test-init', 'fail', '‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∏–¥–∂–µ—Ç–∞');
                    bugs.push({
                        severity: 'critical',
                        title: '–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–∏–¥–∂–µ—Ç–∞',
                        description: '–û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–∏–¥–∂–µ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ DOM',
                        solution: '–ü—Ä–æ–≤–µ—Ä–∏—Ç—å createWidget() –∏ bindEvents() —Ñ—É–Ω–∫—Ü–∏–∏'
                    });
                }
            } catch (error) {
                updateTestResult('test-init', 'fail', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        async function testToggleFunctionality() {
            try {
                if (typeof aiChatWidgetV2 !== 'undefined') {
                    // –¢–µ—Å—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è
                    aiChatWidgetV2.openChat();
                    await new Promise(resolve => setTimeout(resolve, 500));

                    const toggleBtn = document.getElementById('chatToggleBtn');
                    const container = document.getElementById('chatContainer');

                    if (container && container.style.display !== 'none') {
                        updateTestResult('test-toggle', 'pass', '‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–∂–µ—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç');

                        // –¢–µ—Å—Ç –∑–∞–∫—Ä—ã—Ç–∏—è
                        aiChatWidgetV2.closeChat();
                        await new Promise(resolve => setTimeout(resolve, 500));

                        if (toggleBtn && toggleBtn.style.display !== 'none') {
                            updateTestResult('test-toggle', 'pass', '‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–∂–µ—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç');
                        } else {
                            updateTestResult('test-toggle', 'fail', '‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–∫—Ä—ã—Ç–∏–µ–º –≤–∏–¥–∂–µ—Ç–∞');
                        }
                    } else {
                        updateTestResult('test-toggle', 'fail', '‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–∫—Ä—ã—Ç–∏–µ–º –≤–∏–¥–∂–µ—Ç–∞');
                    }
                }
            } catch (error) {
                updateTestResult('test-toggle', 'fail', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        async function testMessaging() {
            try {
                if (typeof aiChatWidgetV2 !== 'undefined') {
                    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –≤–∏–¥–∂–µ—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                    aiChatWidgetV2.openChat();

                    const input = document.getElementById('chatInput');
                    const sendBtn = document.getElementById('sendBtn');

                    if (input && sendBtn) {
                        // –¢–µ—Å—Ç –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞
                        input.value = '–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ';
                        aiChatWidgetV2.handleInputChange();

                        await new Promise(resolve => setTimeout(resolve, 300));

                        if (!sendBtn.disabled) {
                            updateTestResult('test-messages', 'pass', '‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤–≤–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç');
                        } else {
                            updateTestResult('test-messages', 'fail', '‚ùå –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è');
                        }
                    } else {
                        updateTestResult('test-messages', 'fail', '‚ùå –≠–ª–µ–º–µ–Ω—Ç—ã –≤–≤–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
                    }
                }
            } catch (error) {
                updateTestResult('test-messages', 'fail', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        async function testQuickActions() {
            try {
                const quickActions = document.querySelectorAll('.ai-suggestion-item');

                if (quickActions.length > 0) {
                    updateTestResult('test-quick-actions', 'pass', `‚úÖ –ù–∞–π–¥–µ–Ω–æ ${quickActions.length} –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥`);

                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
                    const firstAction = quickActions[0];
                    if (firstAction && firstAction.onclick) {
                        updateTestResult('test-quick-actions', 'pass', '‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã');
                    } else {
                        updateTestResult('test-quick-actions', 'warning', '‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥');
                    }
                } else {
                    updateTestResult('test-quick-actions', 'fail', '‚ùå –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
                }
            } catch (error) {
                updateTestResult('test-quick-actions', 'fail', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        async function testMobileView() {
            // –°–∏–º—É–ª—è—Ü–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
            const originalWidth = window.innerWidth;

            // –ò—Å–ø–æ–ª—å–∑—É–µ–º DevTools –∏–ª–∏ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            if (window.matchMedia('(max-width: 768px)').matches || originalWidth <= 768) {
                const widget = document.getElementById('ai-chat-widget-v2');
                if (widget) {
                    const computedStyle = window.getComputedStyle(widget);
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
                    updateTestResult('test-mobile', 'pass', '‚úÖ –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã');
                }
            } else {
                updateTestResult('test-mobile', 'warning', '‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ');
            }
        }

        async function testTableView() {
            if (window.matchMedia('(min-width: 769px) and (max-width: 1024px)').matches) {
                updateTestResult('test-tablet', 'pass', '‚úÖ –ü–ª–∞–Ω—à–µ—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã');
            } else {
                updateTestResult('test-tablet', 'warning', '‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ');
            }
        }

        async function testDesktopView() {
            if (window.matchMedia('(min-width: 1025px)').matches) {
                updateTestResult('test-desktop', 'pass', '‚úÖ –î–µ—Å–∫—Ç–æ–ø–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã');
            } else {
                updateTestResult('test-desktop', 'warning', '‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ');
            }
        }

        async function measureInitializationTime() {
            const startTime = performance.now();

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
            await new Promise(resolve => setTimeout(resolve, 100));

            const endTime = performance.now();
            const initTime = endTime - startTime;

            document.getElementById('init-time').textContent = `${initTime.toFixed(2)}ms`;

            if (initTime < 500) {
                updateTestResult('test-init-time', 'pass', `‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: ${initTime.toFixed(2)}ms`);
            } else if (initTime < 1000) {
                updateTestResult('test-init-time', 'warning', `‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å: ${initTime.toFixed(2)}ms`);
            } else {
                updateTestResult('test-init-time', 'fail', `‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è: ${initTime.toFixed(2)}ms`);
            }
        }

        async function testWithManyMessages() {
            try {
                if (typeof aiChatWidgetV2 !== 'undefined') {
                    aiChatWidgetV2.openChat();

                    // –°–∏–º—É–ª—è—Ü–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
                    const messagesContainer = document.getElementById('chatMessages');
                    if (messagesContainer) {
                        const initialHeight = messagesContainer.scrollHeight;

                        // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
                        for (let i = 0; i < 10; i++) {
                            const testMessage = document.createElement('div');
                            testMessage.className = 'ai-message assistant';
                            testMessage.innerHTML = `
                                <div class="ai-message-content">
                                    –¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Ññ${i + 1}. –î–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                                    –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –≤–∏–¥–∂–µ—Ç–µ.
                                </div>
                            `;
                            messagesContainer.appendChild(testMessage);
                        }

                        const finalHeight = messagesContainer.scrollHeight;

                        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–æ–ª–ª–∞
                        if (finalHeight > initialHeight) {
                            updateTestResult('test-many-messages', 'pass', '‚úÖ –°–∫—Ä–æ–ª–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
                        } else {
                            updateTestResult('test-many-messages', 'warning', '‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º');
                        }

                        // –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
                        for (let i = 0; i < 10; i++) {
                            if (messagesContainer.lastChild && messagesContainer.children.length > 1) {
                                messagesContainer.removeChild(messagesContainer.lastChild);
                            }
                        }
                    }
                }
            } catch (error) {
                updateTestResult('test-many-messages', 'fail', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        async function testLongMessages() {
            try {
                if (typeof aiChatWidgetV2 !== 'undefined') {
                    const longText = '–≠—Ç–æ –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ –≤–∏–¥–∂–µ—Ç–µ. '.repeat(20);

                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª–∏–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
                    const testElement = document.createElement('div');
                    testElement.className = 'ai-message-content';
                    testElement.textContent = longText;
                    testElement.style.maxWidth = '300px';
                    document.body.appendChild(testElement);

                    const height = testElement.scrollHeight;
                    document.body.removeChild(testElement);

                    if (height > 100) {
                        updateTestResult('test-long-messages', 'pass', '‚úÖ –î–ª–∏–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ');
                    } else {
                        updateTestResult('test-long-messages', 'warning', '‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –¥–ª–∏–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π');
                    }
                }
            } catch (error) {
                updateTestResult('test-long-messages', 'fail', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        function resetTestResults() {
            testResults = {
                functional: { passed: 0, failed: 0, warnings: 0 },
                ui: { passed: 0, failed: 0, warnings: 0 },
                performance: { passed: 0, failed: 0, warnings: 0 }
            };
            bugs = [];
        }

        function generateReport() {
            console.log('üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞...');

            const bugsReport = document.getElementById('bugs-report');
            bugsReport.innerHTML = '';

            if (bugs.length === 0) {
                bugsReport.innerHTML = `
                    <div class="bug-item severity-low">
                        <h4>‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h4>
                        <p>–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.</p>
                    </div>
                `;
            } else {
                bugs.forEach(bug => {
                    const bugElement = document.createElement('div');
                    bugElement.className = `bug-item severity-${bug.severity}`;
                    bugElement.innerHTML = `
                        <h4>üö® ${bug.title}</h4>
                        <p><strong>–û–ø–∏—Å–∞–Ω–∏–µ:</strong> ${bug.description}</p>
                        <p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> ${bug.solution}</p>
                    `;
                    bugsReport.appendChild(bugElement);
                });
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
            updateMetrics();

            console.log('‚úÖ –û—Ç—á–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω');
        }

        function updateMetrics() {
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            if (performance.memory) {
                const memoryMB = (performance.memory.usedJSHeapSize / 1024 / 1024).toFixed(2);
                document.getElementById('memory-usage').textContent = `${memoryMB}MB`;
            }

            // –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≤–∏–¥–∂–µ—Ç–∞ (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ)
            const scriptSize = document.querySelector('script[src*="ai-chat-widget"]');
            if (scriptSize) {
                document.getElementById('bundle-size').textContent = '~26KB'; // –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞–∑–º–µ—Ä
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –±–∞–∑–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤
        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log('üß™ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –±–∞–∑–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤...');
                testWidgetInitialization();
                measureInitializationTime();
            }, 2000);
        });

        // –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
        window.testSuite = {
            runAll: startFullTestSuite,
            runFunctionality: testFunctionality,
            runResponsive: testResponsive,
            runPerformance: testPerformance,
            generateReport: generateReport,
            addBug: (bug) => bugs.push(bug)
        };
    </script>
</body>
</html>