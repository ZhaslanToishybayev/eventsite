#!/bin/bash

# üöÄ –†–£–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï NGINX –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò (–±–µ–∑ sudo)

echo "üöÄ –†–£–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï NGINX –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò"
echo "============================================="
echo ""
echo "üìã –ü–†–û–ë–õ–ï–ú–ê: nginx –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã"
echo "üîß –†–ï–®–ï–ù–ò–ï: –ó–∞–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ —Ä–∞–±–æ—á—É—é –±–µ–∑ SSL"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Django —Å–µ—Ä–≤–µ—Ä–∞
echo "1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Django —Å–µ—Ä–≤–µ—Ä–∞..."
cd /var/www/myapp/eventsite

if curl -s http://localhost:8000/ 2>/dev/null | grep -q "–¶–µ–Ω—Ç—Ä —Å–æ–æ–±—â–µ—Å—Ç–≤"; then
    echo "‚úÖ Django —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 8000"
    echo "   –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω: http://localhost:8000/"
else
    echo "‚ùå Django —Å–µ—Ä–≤–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
    exit 1
fi

echo ""
echo "2. –¢–ï–ü–ï–†–¨ –í–ê–ú –ù–£–ñ–ù–û –í–´–ü–û–õ–ù–ò–¢–¨ –°–õ–ï–î–£–Æ–©–ò–ï –ö–û–ú–ê–ù–î–´ –í–†–£–ß–ù–£–Æ:"
echo "============================================================"
echo ""

echo "üìã –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ö–û–ü–ò–†–û–í–ê–ù–ò–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò:"
echo "========================================"
echo "sudo cp /var/www/myapp/eventsite/nginx_simple_working_config /etc/nginx/sites-available/fan-club.kz"
echo ""

echo "üìã –ö–û–ú–ê–ù–î–ê –î–õ–Ø –ü–†–û–í–ï–†–ö–ò –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò:"
echo "======================================"
echo "sudo nginx -t"
echo ""

echo "üìã –ö–û–ú–ê–ù–î–ê –î–õ–Ø –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ò NGINX:"
echo "==================================="
echo "sudo systemctl reload nginx"
echo ""

echo "üìã –ö–û–ú–ê–ù–î–ê –î–õ–Ø –ü–†–û–í–ï–†–ö–ò –°–¢–ê–¢–£–°–ê NGINX:"
echo "======================================"
echo "sudo systemctl status nginx"
echo ""

echo "üåê –ü–û–°–õ–ï –≠–¢–ò–• –ö–û–ú–ê–ù–î –ü–†–û–¢–ï–°–¢–ò–†–£–ô–¢–ï –°–ê–ô–¢:"
echo "========================================="
echo "curl -I http://fan-club.kz"
echo "curl -s http://fan-club.kz/ | grep -o '–¶–µ–Ω—Ç—Ä —Å–æ–æ–±—â–µ—Å—Ç–≤'"
echo ""

echo "üöÄ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–ï–°–¢–´:"
echo "========================"
echo "# –ü—Ä–æ–≤–µ—Ä–∫–∞ AI API:"
echo "curl -X POST 'http://fan-club.kz/api/v1/ai/simplified/interactive/chat/' \\"
echo "  -H 'Content-Type: application/json' \\"
echo "  -d '{\"message\": \"–ü—Ä–∏–≤–µ—Ç\", \"user_email\": \"test@fan-club.kz\", \"state_id\": null}'"
echo ""

echo "# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—É–±–æ–≤:"
echo "curl -s http://fan-club.kz/clubs/ | grep -o '–∫–ª—É–±\\|club' | head -3"
echo ""

echo "üí° –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –í–ê–†–ò–ê–ù–¢ (–µ—Å–ª–∏ –Ω–µ—Ç sudo –¥–æ—Å—Ç—É–ø–∞):"
echo "================================================"
echo "1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª /etc/nginx/sites-available/fan-club.kz –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ"
echo "2. –ó–∞–º–µ–Ω–∏—Ç–µ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:"
echo "   /var/www/myapp/eventsite/nginx_simple_working_config"
echo "3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ nginx: sudo systemctl reload nginx"
echo ""

echo "üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:"
echo "========================"
echo "‚úÖ –°–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ http://fan-club.kz"
echo "‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ Django –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å"
echo "‚úÖ AI –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª—É–±—ã"
echo "‚úÖ –ß–∞—Ç-–≤–∏–¥–∂–µ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö"
echo ""

echo "üèÅ –í–´–ü–û–õ–ù–ò–¢–ï –ö–û–ú–ê–ù–î–´ –í–´–®–ï –ò –°–û–û–ë–©–ò–¢–ï –û –†–ï–ó–£–õ–¨–¢–ê–¢–ï!"
echo "======================================================"