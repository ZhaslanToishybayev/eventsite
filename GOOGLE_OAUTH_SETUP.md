# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Google OAuth –¥–ª—è UnitySphere

## üìã –û–±–∑–æ—Ä
–î–ª—è —Ä–∞–±–æ—Ç—ã –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Google –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ UnitySphere –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å OAuth –≤ Google Cloud Console. –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ –≤—Å–µ —à–∞–≥–∏.

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –ê–∫–∫–∞—É–Ω—Ç Google
- –î–æ—Å—Ç—É–ø –∫ Google Cloud Console
- –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

---

## üåê –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Google Cloud Console**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: https://console.cloud.google.com/
   - –í–æ–π–¥–∏—Ç–µ —Å –≤–∞—à–∏–º Google –∞–∫–∫–∞—É–Ω—Ç–æ–º

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç**
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤–≤–µ—Ä—Ö—É
   - –í—ã–±–µ—Ä–∏—Ç–µ "–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç"
   - **–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**: `UnitySphere Platform` (–∏–ª–∏ –≤–∞—à–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ)
   - **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è**: (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"

3. **–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞** (–æ–±—ã—á–Ω–æ 1-2 –º–∏–Ω—É—Ç—ã)

---

## üîê –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ Google+ API

1. **–í–∫–ª—é—á–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API**
   - –í –º–µ–Ω—é —Å–ª–µ–≤–∞ –≤—ã–±–µ—Ä–∏—Ç–µ "API –∏ —Å–µ—Ä–≤–∏—Å—ã" ‚Üí "–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞"
   - –ù–∞–π–¥–∏—Ç–µ –∏ –≤–∫–ª—é—á–∏—Ç–µ:
     - **Google+ API** (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
     - **People API**
     - **Google Identity**

2. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –≤–∫–ª—é—á–µ–Ω–∏–µ** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ API

---

## üé´ –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ OAuth 2.0 Client ID

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º OAuth**
   - –ú–µ–Ω—é: "API –∏ —Å–µ—Ä–≤–∏—Å—ã" ‚Üí "–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"
   - –ù–∞–∂–º–∏—Ç–µ "+ –°–û–ó–î–ê–¢–¨ –£–ß–ï–¢–ù–´–ï –î–ê–ù–ù–´–ï" –≤–≤–µ—Ä—Ö—É
   - –í—ã–±–µ—Ä–∏—Ç–µ **"–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ OAuth"**

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —ç–∫—Ä–∞–Ω —Å–æ–≥–ª–∞—Å–∏—è**
   - –ï—Å–ª–∏ –≤–ø–µ—Ä–≤—ã–µ, –≤—ã–±–µ—Ä–∏—Ç–µ **"–í–Ω–µ—à–Ω–∏–π"** —Ç–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏**
   ```
   –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: UnitySphere Platform
   Email –ø–æ–¥–¥–µ—Ä–∂–∫–∏: [–≤–∞—à-email@example.com]
   –õ–æ–≥–æ—Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–±–ª–∞—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ (Scopes)**
   - –ù–∞–∂–º–∏—Ç–µ "–î–û–ë–ê–í–ò–¢–¨ –ò–õ–ò –£–î–ê–õ–ò–¢–¨ –û–ë–õ–ê–°–¢–ò"
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –æ–±–ª–∞—Å—Ç–∏:
     - ‚úÖ **email** - –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–¥—Ä–µ—Å–∞ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã
     - ‚úÖ **profile** - –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
     - ‚úÖ **openid** - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é OpenID Connect
   - –ù–∞–∂–º–∏—Ç–µ "–û–ë–ù–û–í–ò–¢–¨"

5. **–î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω "–í–Ω–µ—à–Ω–∏–π" —Ç–∏–ø)
   - –î–æ–±–∞–≤—å—Ç–µ email –∞–¥—Ä–µ—Å–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –í–∫–ª—é—á–∏—Ç–µ –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π email

6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ**

---

## üîë –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

1. **–í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é Client ID**
   - "API –∏ —Å–µ—Ä–≤–∏—Å—ã" ‚Üí "–£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ" ‚Üí "+ –°–û–ó–î–ê–¢–¨ –£–ß–ï–¢–ù–´–ï –î–ê–ù–ù–´–ï"
   - –í—ã–±–µ—Ä–∏—Ç–µ **"–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–µ–Ω—Ç–∞ OAuth"**

2. **–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - ‚úÖ **–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–º—è**
   ```
   –ò–º—è: UnitySphere Web Client
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!)**

   –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

   **–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   ```
   http://localhost:8000/accounts/google/login/callback/
   http://127.0.0.1:8000/accounts/google/login/callback/
   ```

   **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω):**
   ```
   https://fan-club.kz/accounts/google/login/callback/
   https://www.fan-club.kz/accounts/google/login/callback/
   ```

   > ‚ö†Ô∏è **–í–ê–ñ–ù–û**: –°–ª—ç—à –≤ –∫–æ–Ω—Ü–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!

5. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"**

---

## üìã –®–∞–≥ 5: –ü–æ–ª—É—á–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ —Å –≤–∞—à–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```
Client ID: 123456789-abcdef123456.apps.googleusercontent.com
Client Secret: GOCSPX-xxxxxxxxxxxxxxxxx
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏—Ö –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ!** Client Secret –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

---

## ‚öôÔ∏è –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª .env** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   nano /home/zhaslan/Downloads/unitysphere-project/home/almalinux/new/unitysphere/.env
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –æ–±–Ω–æ–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
   ```env
   # Google OAuth Configuration
   GOOGLE_CLIENT_ID=123456789-abcdef123456.apps.googleusercontent.com
   GOOGLE_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxxxxxxx
   ```

3. **–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –∏–∑ —à–∞–≥–∞ 5

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Django —Å–µ—Ä–≤–µ—Ä:**
   ```bash
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
   # –ò –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
   source venv/bin/activate && python manage.py runserver 0.0.0.0:8000
   ```

---

## ‚úÖ –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞:**
   ```
   http://localhost:8000/accounts/google/login/
   ```

2. **–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:**
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" –≤–∏–¥–Ω–∞
   - ‚úÖ –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Google
   - ‚úÖ –ü–æ—è–≤–ª—è–µ—Ç—Å—è —ç–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ Google
   - ‚úÖ –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ —Å–∞–π—Ç

3. **–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –æ—à–∏–±–∫–∏:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ Google Console
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Django —Å–µ—Ä–≤–µ—Ä–∞

---

## üîß –®–∞–≥ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ:

1. **–û–±–Ω–æ–≤–∏—Ç–µ URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è** –≤ Google Console:
   ```
   https://fan-club.kz/accounts/google/login/callback/
   https://www.fan-club.kz/accounts/google/login/callback/
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –¥–æ–º–µ–Ω** –≤ ALLOWED_HOSTS –≤ settings.py:
   ```python
   ALLOWED_HOSTS = ['fan-club.kz', 'www.fan-club.kz', 'localhost', '127.0.0.1']
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è OAuth –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)

---

## üêõ –ü–æ–∏—Å–∫ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "redirect_uri_mismatch"
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ URI –≤ Google Console

### –û—à–∏–±–∫–∞ "invalid_client"
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–≤–µ—Ä–Ω—ã–π Client ID –∏–ª–∏ Secret
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ .env —Ñ–∞–π–ª–µ

### –ö–Ω–æ–ø–∫–∞ –Ω–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç
- **–ü—Ä–∏—á–∏–Ω–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç SOCIALACCOUNTS_PROVIDERS –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- **–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ settings.py —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

### Google –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç email
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ–±–ª–∞—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞ (scopes)
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ email –∏ profile scopes –≤ Google Console

---

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Django —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ URI –≤ Google Console —Ç–æ—á–Ω—ã –¥–æ —Å–∏–º–≤–æ–ª–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ .env —Ñ–∞–π–ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Django –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Google Cloud Console](https://console.cloud.google.com/)
- [Django Allauth Documentation](https://django-allauth.readthedocs.io/)
- [Google OAuth 2.0 Documentation](https://developers.google.com/identity/protocols/oauth2)

---

**‚ú® –ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤–∞—à UnitySphere –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Google OAuth!