#!/usr/bin/env python
"""
Скрипт для обновления клубов тестовыми данными рекомендаций
"""
import os
import django

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'core.settings')
django.setup()

from clubs.models import Club

# Обновляем существующие клубы с тестовыми данными
clubs_data = [
    {
        'name': 'Вершинные Скалолазы',
        'tags': 'спорт, туризм, альпинизм, походы, природа, приключения',
        'target_audience': 'Люди, любящие активный отдых, горы и приключения. Новички и опытные альпинисты.',
        'activities': 'Горные походы, скалолазание, тренировки, лекции о безопасности в горах',
        'skills_developed': 'Физическая выносливость, командная работа, навыки выживания, планирование маршрутов',
        'is_featured': True,
        'recommendation_score': 80
    },
    {
        'name': 'Книжные Вдохновители',
        'tags': 'культура, книги, чтение, литература, образование, развитие',
        'target_audience': 'Любители чтения, те кто хочет развивать кругозор и обсуждать литературу',
        'activities': 'Обсуждение книг, встречи с авторами, литературные вечера, книжные обзоры',
        'skills_developed': 'Критическое мышление, аналитические способности, ораторское искусство',
        'is_featured': True,
        'recommendation_score': 70
    },
    {
        'name': 'Игровые Магистры',
        'tags': 'технологии, игры, киберспорт, it, командные игры, стратегия',
        'target_audience': 'Геймеры, те кто интересуется киберспортом и хочет развивать игровые навыки',
        'activities': 'Турниры по Dota 2, тренировки, анализ игр, стримы',
        'skills_developed': 'Стратегическое мышление, реакция, командная работа, концентрация',
        'is_featured': True,
        'recommendation_score': 90
    },
    {
        'name': 'Танцующие Экстазы',
        'tags': 'творчество, танцы, фитнес, искусство, самовыражение, здоровье',
        'target_audience': 'Любители танцев от новичков до продвинутых, любой возраст',
        'activities': 'Танцевальные тренировки, постановки, выступления, мастер-классы',
        'skills_developed': 'Координация, ритм, пластика, уверенность в себе',
        'is_featured': True,
        'recommendation_score': 75
    },
    {
        'name': 'Художественная Палитра',
        'tags': 'творчество, искусство, рисование, живопись, дизайн, самовыражение',
        'target_audience': 'Художники и те кто хочет научиться рисовать, любой уровень подготовки',
        'activities': 'Занятия по рисованию, мастер-классы, выставки работ',
        'skills_developed': 'Художественные навыки, композиция, цветоведение, креативность',
        'is_featured': True,
        'recommendation_score': 65
    },
    {
        'name': 'ФотоАрт Мастерская',
        'tags': 'творчество, фотография, искусство, дизайн, визуал, творчество',
        'target_audience': 'Фотографы и те кто хочет освоить фотографию',
        'activities': 'Фотосессии, мастер-классы, обработка фото, выставки',
        'skills_developed': 'Фотографические навыки, композиция, работа со светом, постобработка',
        'is_featured': True,
        'recommendation_score': 60
    },
    {
        'name': 'на Эверест',
        'tags': 'спорт, туризм, альпинизм, походы, природа, приключения',
        'target_audience': 'Опытные альпинисты и любители гор',
        'activities': 'Высокогорные восхождения, тренировки, экспедиции',
        'skills_developed': 'Альпинизм, выживание в горах, физическая подготовка',
        'is_featured': False,
        'recommendation_score': 85
    }
]

def update_clubs():
    print("Обновление клубов тестовыми данными...")

    for club_data in clubs_data:
        try:
            club = Club.objects.get(name=club_data['name'])

            for key, value in club_data.items():
                if hasattr(club, key):
                    setattr(club, key, value)

            club.save()
            print(f"✅ Обновлен клуб: {club.name}")

        except Club.DoesNotExist:
            print(f"❌ Клуб не найден: {club_data['name']}")
        except Exception as e:
            print(f"❌ Ошибка при обновлении клуба {club_data.get('name', 'Unknown')}: {str(e)}")

    print("Обновление завершено!")

if __name__ == '__main__':
    update_clubs()