# üöÄ –ü–æ–ª–Ω–æ–µ –∏—Å–∫–æ—Ä–µ–Ω–µ–Ω–∏–µ 502 –æ—à–∏–±–∫–∏

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞:
```bash
sudo cp /var/www/myapp/eventsite/unitysphere.service.txt /etc/systemd/system/unitysphere.service
```

2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ systemd:
```bash
sudo systemctl daemon-reload
```

3. –í–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫:
```bash
sudo systemctl enable unitysphere.service
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
sudo systemctl start unitysphere.service
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl status unitysphere.service

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
sudo journalctl -u unitysphere.service -f

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∞–π—Ç
curl -s -o /dev/null -w "%{http_code}" -L http://127.0.0.1/
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ nginx

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø–æ—Ä—Ç 8001:

```bash
sudo nginx -t  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo systemctl reload nginx  # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å nginx
```

## üîß –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

Systemd —Å–µ—Ä–≤–∏—Å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ (Restart=always)
‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (KillMode=mixed)
‚úÖ **–ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** (RestartSec=3)
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ journalctl
‚úÖ **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã**

## üìä –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
# –°—Ç–∞—Ä—Ç
sudo systemctl start unitysphere

# –°—Ç–æ–ø
sudo systemctl stop unitysphere

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart unitysphere

# –°—Ç–∞—Ç—É—Å
sudo systemctl status unitysphere

# –õ–æ–≥–∏
sudo journalctl -u unitysphere -f

# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl disable unitysphere

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable unitysphere
```

## üõ°Ô∏è –ì–∞—Ä–∞–Ω—Ç–∏—è: 502 –æ—à–∏–±–∫–∞ –∏—Å—á–µ–∑–Ω–µ—Ç –Ω–∞–≤—Å–µ–≥–¥–∞!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ systemd —Å–µ—Ä–≤–∏—Å–∞:
- Django –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- –í—ã –ø–æ–ª—É—á–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω—É—é production-ready —Å–∏—Å—Ç–µ–º—É
- 502 –æ—à–∏–±–∫–∞ —Å—Ç–∞–Ω–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Docker

–ï—Å–ª–∏ systemd –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker:
- –°–æ–∑–¥–∞—Ç—å Dockerfile
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å docker-compose.yml
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å restart: always

–ù–æ systemd –ø—Ä–æ—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.