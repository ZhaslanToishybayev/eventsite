"""
–£–ª—É—á—à–µ–Ω–Ω—ã–π AI API –¥–ª—è UnitySphere
"""
from django.urls import path
from django.http import JsonResponse
import os
from django.conf import settings
from django.views.decorators.csrf import csrf_exempt
from django.utils.decorators import method_decorator
import json
import re
from datetime import datetime

def ai_status(request):
    """AI API status"""
    return JsonResponse({
        'status': 'working',
        'features': ['club_creation', 'event_planning', 'community_building', 'branding', 'promotion'],
        'model': 'gpt-4o-mini',
        'version': '2.0',
        'capabilities': ['text_generation', 'idea_generation', 'advice', 'support']
    })

@csrf_exempt
def ai_chat(request):
    """–£–ª—É—á—à–µ–Ω–Ω—ã–π AI chat endpoint"""
    if request.method == 'POST':
        try:
            data = json.loads(request.body)
            message = data.get('message', '').strip()

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤–∫–ª—é—á–µ–Ω –ª–∏ AI
            ai_enabled = getattr(settings, 'AI_CONSULTANT_ENABLED', False)

            if not ai_enabled:
                return JsonResponse({
                    'error': 'AI –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω'
                }, status=503)

            # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
            if not message:
                return JsonResponse({
                    'error': '–°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º'
                }, status=400)

            if len(message) > 1000:
                return JsonResponse({
                    'error': '–°–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ (–º–∞–∫—Å–∏–º—É–º 1000 —Å–∏–º–≤–æ–ª–æ–≤)'
                }, status=400)

            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
            dangerous_patterns = [
                r'drop\s+table',
                r'delete\s+from',
                r'update\s+.*\s+set.*where',
                r'insert\s+into',
                r'exec\s*\(',
                r'sp_\w+',
                r'xp_\w+',
                r'<script>',
                r'javascript:',
                r'data:text/html'
            ]

            for pattern in dangerous_patterns:
                if re.search(pattern, message, re.IGNORECASE):
                    return JsonResponse({
                        'error': '–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è'
                    }, status=400)

            # –ü–æ–ª—É—á–∞–µ–º AI –æ—Ç–≤–µ—Ç
            response = get_enhanced_ai_response(message)

            return JsonResponse({
                'message': response,
                'type': 'text',
                'timestamp': datetime.now().isoformat(),
                'message_id': hash(message + str(datetime.now()))
            })

        except json.JSONDecodeError:
            return JsonResponse({
                'error': '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON —Ñ–æ—Ä–º–∞—Ç'
            }, status=400)

        except Exception as e:
            return JsonResponse({
                'error': f'–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞: {str(e)}'
            }, status=500)

    return JsonResponse({
        'error': '–¢–æ–ª—å–∫–æ POST –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã'
    }, status=405)

def get_enhanced_ai_response(message):
    """–£–ª—É—á—à–µ–Ω–Ω—ã–π AI –æ—Ç–≤–µ—Ç —Å –±–æ–ª–µ–µ —É–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π"""
    message_lower = message.lower().strip()

    # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
    if any(greeting in message_lower for greeting in ['–ø—Ä–∏–≤–µ—Ç', '–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π', '–¥–æ–±—Ä—ã–π', 'hello', 'hi']):
        return """üëã –ü—Ä–∏–≤–µ—Ç! –Ø AI –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç UnitySphere - —Ç–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ –º–∏—Ä–µ —Ñ–∞–Ω-–∫–ª—É–±–æ–≤!

–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Ç–µ–±–µ:
üéØ **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–Ω-–∫–ª—É–±** - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
üí° **–ü—Ä–∏–¥—É–º–∞—Ç—å –∏–¥–µ–∏** - –¥–ª—è —Ç–µ–º–∞—Ç–∏–∫–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏—è
üìÖ **–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è** - –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
üë• **–ü—Ä–∏–≤–ª–µ—á—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** - —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–æ—Å—Ç–∞
üí∞ **–ú–æ–Ω–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å** - —Å–ø–æ—Å–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∫–∞

–û —á—ë–º —Ö–æ—á–µ—à—å –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å? –ù–∞–ø–∏—à–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä: "–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Ñ–∞–Ω-–∫–ª—É–±?" –∏–ª–∏ "–î–∞–π –∏–¥–µ–∏ –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –∫–ª—É–±–∞"."""

    # –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—É–±–æ–≤
    elif any(keyword in message_lower for keyword in ['—Å–æ–∑–¥–∞—Ç—å', '—Å–¥–µ–ª–∞—Ç—å', '—Å–æ–∑–¥–∞–Ω–∏–µ', '–∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å', '–∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å']):
        if any(keyword in message_lower for keyword in ['–∫–ª—É–±', '—Ñ–∞–Ω', 'fan']):
            return """üöÄ –û—Ç–ª–∏—á–Ω–æ! –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–Ω-–∫–ª—É–±–∞ - —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å! –í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥:

**1. –û–ø—Ä–µ–¥–µ–ª–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—é:**
‚Ä¢ –í—ã–±–µ—Ä–∏ —É–∑–∫—É—é –Ω–∏—à—É (–Ω–µ "–º—É–∑—ã–∫–∞", –∞ "—Ä–æ–∫ 90-—Ö" –∏–ª–∏ "—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞")
‚Ä¢ –ò–∑—É—á–∏ —Ü–µ–ª–µ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é (18-25 –ª–µ—Ç, —Å—Ç—É–¥–µ–Ω—Ç—ã, –º–æ–ª–æ–¥—ã–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—ã)
‚Ä¢ –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤

**2. –ü—Ä–∏–¥—É–º–∞–π —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:**
‚Ä¢ –û–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è –∏ –æ—Ç—Ä–∞–∂–∞—Ç—å —Å—É—Ç—å
‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö
‚Ä¢ –£–±–µ–¥–∏—Å—å, —á—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–µ –∑–∞–Ω—è—Ç–æ

**3. –°–æ–∑–¥–∞–π –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å:**
‚Ä¢ –õ–æ–≥–æ—Ç–∏–ø –∏ —Ñ–∏—Ä–º–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç–∞
‚Ä¢ –°–ª–æ–≥–∞–Ω –∏ –º–∏—Å—Å–∏—è
‚Ä¢ –°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è

**4. –í—ã–±–µ—Ä–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:**
‚Ä¢ Instagram –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚Ä¢ Telegram –¥–ª—è –æ–±—â–µ–Ω–∏—è
‚Ä¢ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –¥–ª—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π
‚Ä¢ Discord –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞

**5. –ù–∞—á–Ω–∏ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
‚Ä¢ –ü–æ—Å—Ç 3-5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
‚Ä¢ –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: –Ω–æ–≤–æ—Å—Ç–∏, –æ–ø—Ä–æ—Å—ã, –∫–æ–Ω–∫—É—Ä—Å—ã
‚Ä¢ –í–æ–≤–ª–µ–∫–∞–π –ø–µ—Ä–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

–•–æ—á–µ—à—å, –ø–æ–º–æ–≥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –¥–ª—è —Ç–≤–æ–µ–≥–æ –∫–ª—É–±–∞? –ù–∞–ø–∏—à–∏, –∫–∞–∫–∞—è —É —Ç–µ–±—è —Ç–µ–º–∞—Ç–∏–∫–∞! üéØ"""

    # –ò–¥–µ–∏ –¥–ª—è –∫–ª—É–±–æ–≤
    elif any(keyword in message_lower for keyword in ['–∏–¥–µ–∏', '–ø–æ–º–æ—â—å', '–ø–æ—Å–æ–≤–µ—Ç—É–π', '—á—Ç–æ –º–æ–∂–Ω–æ']):
        return """üí° –í–æ—Ç —Ç–æ–ø –∏–¥–µ–π –¥–ª—è —Ñ–∞–Ω-–∫–ª—É–±–æ–≤ –≤ 2025 –≥–æ–¥—É:

**üéµ –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ:**
‚Ä¢ –§–∞–Ω-–∫–ª—É–± –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥—Ä—É–ø–ø—ã (–Ω–µ –∂–∞–Ω—Ä–∞, –∞ –∏–º–µ–Ω–Ω–æ –≥—Ä—É–ø–ø—ã)
‚Ä¢ –ö–ª—É–± —Å–ª—É—à–∞—Ç–µ–ª–µ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ó–æ–ª–æ—Ç–∞—è —ç—Ä–∞ —Ä–æ–∫–∞")
‚Ä¢ –ö–ª—É–± –ª—é–±–∏—Ç–µ–ª–µ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
‚Ä¢ –ö–ª—É–± –ø–æ –∏—Ç–∞–ª—å—è–Ω—Å–∫–æ–π/–∫–æ—Ä–µ–π—Å–∫–æ–π/—è–ø–æ–Ω—Å–∫–æ–π –º—É–∑—ã–∫–µ

**‚öΩ –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ:**
‚Ä¢ –§–∞–Ω-–∫–ª—É–± –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã (–Ω–µ –≤–∏–¥–∞ —Å–ø–æ—Ä—Ç–∞)
‚Ä¢ –ö–ª—É–± –±–µ–≥—É–Ω–æ–≤/–≤–µ–ª–æ—Å–∏–ø–µ–¥–∏—Å—Ç–æ–≤/–ø–ª–∞–≤—Ü–æ–≤
‚Ä¢ –ö–ª—É–± –ª—é–±–∏—Ç–µ–ª–µ–π —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –≤–∏–¥–æ–≤ —Å–ø–æ—Ä—Ç–∞
‚Ä¢ –ö–ª—É–± –±–æ–ª–µ–ª—å—â–∏–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å—Ç–∞–¥–∏–æ–Ω–∞

**üéÆ –ì–µ–π–º–µ—Ä—Å–∫–∏–µ:**
‚Ä¢ –ö–ª—É–± –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–≥—Ä–µ (–Ω–µ –∂–∞–Ω—Ä—É)
‚Ä¢ –ö–ª—É–± –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã
‚Ä¢ –ö–ª—É–± –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∏–≥—Ä
‚Ä¢ –ö–ª—É–± –≤–∏–Ω—Ç–∞–∂–Ω—ã—Ö –∏–≥—Ä

**üé® –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ:**
‚Ä¢ –ö–ª—É–± –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ö—É–¥–æ–∂–Ω–∏–∫–æ–≤
‚Ä¢ –§–æ—Ç–æ–≥—Ä–∞—Ñ—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∂–∞–Ω—Ä–∞ (—É–ª–∏—á–Ω–∞—è, –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–∞—è)
‚Ä¢ –ü–∏—Å–∞—Ç–µ–ª–∏ —Ñ–∞–Ω—Ç–∞—Å—Ç–∏–∫–∏/–¥–µ—Ç–µ–∫—Ç–∏–≤–∞/—Ä–æ–º–∞–Ω–æ–≤
‚Ä¢ –î–∏–∑–∞–π–Ω–µ—Ä—ã –∏ –≤–µ—Ä—Å—Ç–∞–ª—å—â–∏–∫–∏

**üìö –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ:**
‚Ä¢ –ö–Ω–∏–∂–Ω—ã–µ –∫–ª—É–±—ã –ø–æ –∂–∞–Ω—Ä–∞–º
‚Ä¢ –ö–ª—É–± –ª—é–±–∏—Ç–µ–ª–µ–π –Ω–∞—Å—Ç–æ–ª—å–Ω—ã—Ö –∏–≥—Ä
‚Ä¢ –ö–ª—É–± –∏–∑—É—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤
‚Ä¢ –ö–ª—É–± –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤

**üåü –ù–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
‚Ä¢ –ö–ª—É–±—ã –ø–æ —Å–µ—Ä–∏–∞–ª–∞–º/—Ñ–∏–ª—å–º–∞–º
‚Ä¢ –ö–ª—É–±—ã –ø–æ –ø–æ–¥–∫–∞—Å—Ç–∞–º
‚Ä¢ –ö–ª—É–±—ã –ø–æ –±–ª–æ–≥–µ—Ä–∞–º/–∏–Ω—Ñ–ª—é–µ–Ω—Å–µ—Ä–∞–º
‚Ä¢ –ö–ª—É–±—ã –ø–æ —Ö–æ–±–±–∏ (–∫—É–ª–∏–Ω–∞—Ä–∏—è, —Å–∞–¥–æ–≤–æ–¥—Å—Ç–≤–æ, —Ä—É–∫–æ–¥–µ–ª–∏–µ)

–ö–∞–∫–∞—è –∏–∑ —ç—Ç–∏—Ö –∏–¥–µ–π —Ç–µ–±–µ –±–ª–∏–∂–µ? –†–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ - –ø–æ–º–æ–≥—É —Ä–∞–∑–≤–∏—Ç—å –∫–æ–Ω—Ü–µ–ø—Ü–∏—é! üöÄ"""

    # –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
    elif any(keyword in message_lower for keyword in ['–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏', '—Å–æ–±—ã—Ç–∏—è', 'event', '–≤—Å—Ç—Ä–µ—á–∞']):
        return """üìÖ –û—Ç–ª–∏—á–Ω–æ! –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è - —ç—Ç–æ –∂–∏–∑–Ω—å –ª—é–±–æ–≥–æ –∫–ª—É–±–∞! –í–æ—Ç –∏–¥–µ–∏:

**–û—Ñ–ª–∞–π–Ω –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è:**
‚Ä¢ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—Å—Ç—Ä–µ—á–∏ –≤ –∫–∞—Ñ–µ
‚Ä¢ –ö–æ–Ω—Ü–µ—Ä—Ç—ã –∏ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è
‚Ä¢ –°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Ç—É—Ä–Ω–∏—Ä—ã
‚Ä¢ –í–∏–∫—Ç–æ—Ä–∏–Ω—ã –∏ –∫–≤–∏–∑—ã
‚Ä¢ –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã
‚Ä¢ –§–ª–µ—à–º–æ–±—ã
‚Ä¢ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏
‚Ä¢ –û–±–º–µ–Ω –ø–æ–¥–∞—Ä–∫–∞–º–∏

**–û–Ω–ª–∞–π–Ω –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è:**
‚Ä¢ –ü—Ä—è–º—ã–µ —ç—Ñ–∏—Ä—ã —Å —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏
‚Ä¢ –û–Ω–ª–∞–π–Ω-–≤–∏–∫—Ç–æ—Ä–∏–Ω—ã
‚Ä¢ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ–¥–µ–ª–∏
‚Ä¢ –ö–æ–Ω–∫—É—Ä—Å—ã —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞
‚Ä¢ –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏
‚Ä¢ –û–Ω–ª–∞–π–Ω-–º–∞—Ä–∞—Ñ–æ–Ω—ã
‚Ä¢ –¢—Ä–∞–Ω—Å–ª—è—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π

**–ì–∏–±—Ä–∏–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
‚Ä¢ –û–Ω–ª–∞–π–Ω-—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è –æ—Ñ–ª–∞–π–Ω-–º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
‚Ä¢ –ö—Ä–æ—Å—Å-–∫–ª—É–±–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è
‚Ä¢ –ì–æ—Ä–æ–¥—Å–∫–∏–µ –∫–≤–µ—Å—Ç—ã
‚Ä¢ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏

**–°–µ–∑–æ–Ω–Ω—ã–µ –∏–¥–µ–∏:**
‚Ä¢ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –≤–µ—á–µ—Ä–∏–Ω–∫–∏
‚Ä¢ –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –∫–ª—É–±–∞
‚Ä¢ –ü—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∞—Ä—Ç–∏—Å—Ç–æ–≤
‚Ä¢ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–µ–¥–µ–ª–∏/–º–µ—Å—è—Ü—ã
‚Ä¢ –ö–æ–Ω–∫—É—Ä—Å—ã –∏ —Ñ–µ—Å—Ç–∏–≤–∞–ª–∏

–•–æ—á–µ—à—å –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π? –ù–∞–ø–∏—à–∏, —á—Ç–æ —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç! üéâ"""

    # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
    elif any(thanks in message_lower for thanks in ['—Å–ø–∞—Å–∏–±–æ', '–±–ª–∞–≥–æ–¥–∞—Ä', '–ø–æ–∂–∞–ª—É–π—Å—Ç–∞', 'thank']):
        return """üòä –í—Å–µ–≥–¥–∞ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞! –†–∞–¥ –±—ã–ª –ø–æ–º–æ—á—å!

–ï—Å–ª–∏ –±—É–¥—É—Ç –µ—â—ë –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ñ–∞–Ω-–∫–ª—É–±–∞–º - –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏! –Ø –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤:
‚Ä¢ –î–∞—Ç—å —Å–æ–≤–µ—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∫–ª—É–±–∞
‚Ä¢ –ü—Ä–∏–¥—É–º–∞—Ç—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏–¥–µ–∏
‚Ä¢ –ü–æ–º–æ—á—å —Å –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ–º
‚Ä¢ –ü–æ–¥—Å–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ä–∞–∑–≤–∏—Ç–∏—è

–£–¥–∞—á–∏ –≤ —Ç–≤–æ—ë–º —Ñ–∞–Ω-–∫–ª—É–±–Ω–æ–º –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–∏! üöÄ

P.S. –ù–µ –∑–∞–±—ã–≤–∞–π: —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–ª—É–±–∞ - —ç—Ç–æ —Ç–≤–æ—è —Å—Ç—Ä–∞—Å—Ç—å –∏ –≤–æ–≤–ª–µ—á—ë–Ω–Ω–æ—Å—Ç—å! üí™"""

    # –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
    else:
        return """ü§î –ù–µ —Å–æ–≤—Å–µ–º –ø–æ–Ω—è–ª —Ç–≤–æ–π –∑–∞–ø—Ä–æ—Å. –î–∞–≤–∞–π —É—Ç–æ—á–Ω–∏–º!

–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Å:
‚Ä¢ üéØ **–°–æ–∑–¥–∞–Ω–∏–µ–º —Ñ–∞–Ω-–∫–ª—É–±–∞** - –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
‚Ä¢ üí° **–ò–¥–µ—è–º–∏ –¥–ª—è –∫–ª—É–±–æ–≤** - —Ç–æ–ø –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
‚Ä¢ üìÖ **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π** - –æ—Ñ–ª–∞–π–Ω –∏ –æ–Ω–ª–∞–π–Ω —Ñ–æ—Ä–º–∞—Ç—ã
‚Ä¢ üë• **–ü—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤** - —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–æ—Å—Ç–∞
‚Ä¢ üí∞ **–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–µ–π** - —Å–ø–æ—Å–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∫–∞

–ù–∞–ø–∏—à–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
"–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–Ω-–∫–ª—É–± –ø–æ –º—É–∑—ã–∫–µ?"
"–î–∞–π –∏–¥–µ–∏ –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –∫–ª—É–±–∞"
"–ö–∞–∫ –ø—Ä–∏–≤–ª–µ—á—å –ø–µ—Ä–≤—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤?"

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏ –∏–∑ –º–µ–Ω—é:
1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—É–±–∞
2. –ò–¥–µ–∏ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ
3. –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
4. –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –∏ —Ä–æ—Å—Ç
5. –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è

–ß—Ç–æ —Ç–µ–±—è –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç? ü§î"""

urlpatterns = [
    path('', ai_status, name='ai_status'),
    path('chat/', ai_chat, name='ai_chat'),
]