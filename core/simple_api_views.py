"""
Simple API views that don't require problematic AI dependencies
"""
from django.http import JsonResponse
from django.views.decorators.csrf import csrf_exempt
from django.views.decorators.http import require_http_methods
import json

@csrf_exempt
@require_http_methods(["POST"])
def simple_chat_api(request):
    """
    Simple chat API that provides basic responses without AI dependencies
    """
    try:
        data = json.loads(request.body)
        user_message = data.get('message', '').strip().lower()

        # Simple response logic
        if any(word in user_message for word in ['–ø—Ä–∏–≤–µ—Ç', '–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', 'hello', 'hi']):
            response = "üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø AI –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ñ–∞–Ω-–∫–ª—É–±–æ–≤. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?"
        elif any(word in user_message for word in ['–ø–æ–º–æ—â—å', 'help', '—Å–ø—Ä–∞–≤–∫–∞']):
            response = """ü§î –í–∞–º –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ñan-–∫–ª—É–±–∞? –í–æ—Ç —á—Ç–æ —è –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å:

1. **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∫–ª—É–±–∞** - –ø–æ–º–æ–≥—É –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–µ–π
2. **–ü–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª—É–±–æ–≤** - –Ω–∞–π–¥—É –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –¥–ª—è –≤–∞—Å
3. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é** - –¥–∞–º —Å–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é –∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é –∫–ª—É–±–∞

–ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç!"""
        elif any(word in user_message for word in ['—Å–æ–∑–¥–∞—Ç—å', '—Å–æ–∑–¥–∞–Ω–∏–µ', 'create', 'club']):
            response = """‚ú® –û—Ç–ª–∏—á–Ω–æ! –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñan-–∫–ª—É–±–∞ –Ω—É–∂–Ω–æ:

1. **–í—ã–±—Ä–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - —á–µ–º –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è –≤–∞—à –∫–ª—É–±?
2. **–ü—Ä–∏–¥—É–º–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ** - –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è
3. **–°–æ–∑–¥–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ** - —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Ü–µ–ª—è—Ö –∏ –ø–ª–∞–Ω–∞—Ö –∫–ª—É–±–∞
4. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–æ—Ä–æ–¥** - –≥–¥–µ –±—É–¥–µ—Ç –±–∞–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–ª—É–±?

–•–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª—É–±–∞? –ù–∞–ø–∏—à–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–≥–æ –±—É–¥—É—â–µ–≥–æ –∫–ª—É–±–∞!"""
        elif any(word in user_message for word in ['–∫–ª—É–±—ã', '—Å–æ–æ–±—â–µ—Å—Ç–≤–∞', 'clubs', 'communities']):
            response = """üë• –ù–∞ –Ω–∞—à–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñan-–∫–ª—É–±–æ–≤ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤.

–ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª—É–±—ã, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–°–æ–æ–±—â–µ—Å—Ç–≤–∞" –≤ –º–µ–Ω—é.

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –∫–ª—É–± - —è –ø–æ–º–æ–≥—É —Å —ç—Ç–∏–º!"""
        else:
            response = """ü§î –Ø –ø–æ–Ω—è–ª –≤–∞—à –∑–∞–ø—Ä–æ—Å. –í–æ—Ç —á—Ç–æ –º–æ–≥—É –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å:

‚Ä¢ **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ñan-–∫–ª—É–±–æ–≤**
‚Ä¢ **–ü–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤**
‚Ä¢ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é**

–ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ –≤–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç, –∏ —è –ø–æ–º–æ–≥—É!"""

        return JsonResponse({
            'message': response,
            'status': 'success',
            'session_id': 'simple_session_123'
        })

    except Exception as e:
        return JsonResponse({
            'error': '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞',
            'details': str(e),
            'status': 'error'
        }, status=500)

def simple_status_api(request):
    """
    Simple status endpoint
    """
    return JsonResponse({
        'status': 'working',
        'message': 'AI –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ',
        'features': ['basic_chat', 'club_creation_help', 'community_search'],
        'dependencies': 'minimal'
    })